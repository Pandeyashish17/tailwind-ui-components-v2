(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{Combobox:()=>Oe,Dialog:()=>pt,Disclosure:()=>Ot,FocusTrap:()=>Tt,Listbox:()=>Wt,Menu:()=>sn,Popover:()=>Tn,Portal:()=>We,RadioGroup:()=>Hn,Switch:()=>Vn,Tab:()=>ir,Transition:()=>Cr});const n=React;function r(){let e=[],t=[],n={enqueue(e){t.push(e)},addEventListener:(e,t,r,o)=>(e.addEventListener(t,r,o),n.add((()=>e.removeEventListener(t,r,o)))),requestAnimationFrame(...e){let t=requestAnimationFrame(...e);return n.add((()=>cancelAnimationFrame(t)))},nextFrame:(...e)=>n.requestAnimationFrame((()=>n.requestAnimationFrame(...e))),setTimeout(...e){let t=setTimeout(...e);return n.add((()=>clearTimeout(t)))},add:t=>(e.push(t),()=>{let n=e.indexOf(t);if(n>=0){let[t]=e.splice(n,1);t()}}),dispose(){for(let t of e.splice(0))t()},async workQueue(){for(let e of t.splice(0))await e()}};return n}function o(){let[e]=(0,n.useState)(r);return(0,n.useEffect)((()=>()=>e.dispose()),[e]),e}const l="undefined"!=typeof window?n.useLayoutEffect:n.useEffect;let a={serverHandoffComplete:!1};function i(){let[e,t]=(0,n.useState)(a.serverHandoffComplete);return(0,n.useEffect)((()=>{!0!==e&&t(!0)}),[e]),(0,n.useEffect)((()=>{!1===a.serverHandoffComplete&&(a.serverHandoffComplete=!0)}),[]),e}var u;let s=0;function c(){return++s}let d=null!=(u=n.useId)?u:function(){let e=i(),[t,r]=n.useState(e?c:null);return l((()=>{null===t&&r(c())}),[t]),null!=t?""+t:void 0};function p(e){let t=(0,n.useRef)(e);return l((()=>{t.current=e}),[e]),t}function f(e,t){let[r,o]=(0,n.useState)(e),a=p(e);return l((()=>o(a.current)),[a,o,...t]),r}let v=Symbol();function b(e,t=!0){return Object.assign(e,{[v]:t})}function m(...e){let t=(0,n.useRef)(e);(0,n.useEffect)((()=>{t.current=e}),[e]);let r=(0,n.useCallback)((e=>{for(let n of t.current)null!=n&&("function"==typeof n?n(e):n.current=e)}),[t]);return e.every((e=>null==e||(null==e?void 0:e[v])))?void 0:r}function g(e,t,...n){if(e in t){let r=t[e];return"function"==typeof r?r(...n):r}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map((e=>`"${e}"`)).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,g),r}var x,h=((x=h||{})[x.None=0]="None",x[x.RenderStrategy=1]="RenderStrategy",x[x.Static=2]="Static",x),y=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(y||{});function P({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:o,visible:l=!0,name:a}){let i=S(t,e);if(l)return R(i,n,r,a);let u=null!=o?o:0;if(2&u){let{static:e=!1,...t}=i;if(e)return R(t,n,r,a)}if(1&u){let{unmount:e=!0,...t}=i;return g(e?0:1,{0:()=>null,1:()=>R({...t,hidden:!0,style:{display:"none"}},n,r,a)})}return R(i,n,r,a)}function R(e,t={},r,o){let{as:l=r,children:a,refName:i="ref",...u}=I(e,["unmount","static"]),s=void 0!==e.ref?{[i]:e.ref}:{},c="function"==typeof a?a(t):a;if(u.className&&"function"==typeof u.className&&(u.className=u.className(t)),l===n.Fragment&&Object.keys(E(u)).length>0){if(!(0,n.isValidElement)(c)||Array.isArray(c)&&c.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${o} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(u).map((e=>`  - ${e}`)).join("\n"),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map((e=>`  - ${e}`)).join("\n")].join("\n"));return(0,n.cloneElement)(c,Object.assign({},S(c.props,E(I(u,["ref"]))),s))}return(0,n.createElement)(l,Object.assign({},I(u,["ref"]),l!==n.Fragment&&s),c)}function S(...e){if(0===e.length)return{};if(1===e.length)return e[0];let t={},n={};for(let r of e)for(let e in r)e.startsWith("on")&&"function"==typeof r[e]?(null!=n[e]||(n[e]=[]),n[e].push(r[e])):t[e]=r[e];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(n).map((e=>[e,void 0]))));for(let e in n)Object.assign(t,{[e](t){let r=n[e];for(let e of r){if(t.defaultPrevented)return;e(t)}}});return t}function C(e){var t;return Object.assign((0,n.forwardRef)(e),{displayName:null!=(t=e.displayName)?t:e.name})}function E(e){let t=Object.assign({},e);for(let e in t)void 0===t[e]&&delete t[e];return t}function I(e,t=[]){let n=Object.assign({},e);for(let e of t)e in n&&delete n[e];return n}var O=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(O||{});var T=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(T||{});function k(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),o=null!=r?r:-1,l=(()=>{switch(e.focus){case 0:return n.findIndex((e=>!t.resolveDisabled(e)));case 1:{let e=n.slice().reverse().findIndex(((e,n,r)=>!(-1!==o&&r.length-n-1>=o)&&!t.resolveDisabled(e)));return-1===e?e:n.length-1-e}case 2:return n.findIndex(((e,n)=>!(n<=o)&&!t.resolveDisabled(e)));case 3:{let e=n.slice().reverse().findIndex((e=>!t.resolveDisabled(e)));return-1===e?e:n.length-1-e}case 4:return n.findIndex((n=>t.resolveId(n)===e.id));case 5:return null;default:!function(e){throw new Error("Unexpected object: "+e)}(e)}})();return-1===l?r:l}function w(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let r=""===(null==t?void 0:t.getAttribute("disabled"));return(!r||!function(e){if(!e)return!1;let t=e.previousElementSibling;for(;null!==t;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}(n))&&r}function D(e){"function"==typeof queueMicrotask?queueMicrotask(e):Promise.resolve().then(e).catch((e=>setTimeout((()=>{throw e}))))}function F(e,t,r){let o=p(t);(0,n.useEffect)((()=>{function t(e){o.current(e)}return window.addEventListener(e,t,r),()=>window.removeEventListener(e,t,r)}),[e,r])}var L=(e=>(e[e.None=1]="None",e[e.IgnoreScrollbars=2]="IgnoreScrollbars",e))(L||{});function A(e,t,r=1){let o=(0,n.useRef)(!1),l=p((n=>{if(o.current)return;o.current=!0,D((()=>{o.current=!1}));let l=function e(t){return"function"==typeof t?e(t()):Array.isArray(t)||t instanceof Set?t:[t]}(e),a=n.target;if(a.ownerDocument.documentElement.contains(a)){if(2==(2&r)){let e=20,t=a.ownerDocument.documentElement;if(n.clientX>t.clientWidth-e||n.clientX<e||n.clientY>t.clientHeight-e||n.clientY<e)return}for(let e of l){if(null===e)continue;let t=e instanceof HTMLElement?e:e.current;if(null!=t&&t.contains(a))return}return t(n,a)}}));F("pointerdown",((...e)=>l.current(...e))),F("mousedown",((...e)=>l.current(...e)))}let M=(0,n.createContext)(null);M.displayName="OpenClosedContext";var N=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(N||{});function U(){return(0,n.useContext)(M)}function $({value:e,children:t}){return n.createElement(M.Provider,{value:e},t)}function j(e){var t;if(e.type)return e.type;let n=null!=(t=e.as)?t:"button";return"string"==typeof n&&"button"===n.toLowerCase()?"button":void 0}function B(e,t){let[r,o]=(0,n.useState)((()=>j(e)));return l((()=>{o(j(e))}),[e.type,e.as]),l((()=>{r||!t.current||t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&o("button")}),[r,t]),r}function H(e){return"undefined"==typeof window?null:e instanceof Node?e.ownerDocument:null!=e&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}function G({container:e,accept:t,walk:r,enabled:o=!0}){let a=(0,n.useRef)(t),i=(0,n.useRef)(r);(0,n.useEffect)((()=>{a.current=t,i.current=r}),[t,r]),l((()=>{if(!e||!o)return;let t=H(e);if(!t)return;let n=a.current,r=i.current,l=Object.assign((e=>n(e)),{acceptNode:n}),u=t.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,l,!1);for(;u.nextNode();)r(u.currentNode)}),[e,o,a,i])}let _=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map((e=>`${e}:not([tabindex='-1'])`)).join(",");var K,V=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(V||{}),W=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(W||{}),Q=((K=Q||{})[K.Previous=-1]="Previous",K[K.Next=1]="Next",K);function q(e=document.body){return null==e?[]:Array.from(e.querySelectorAll(_))}var Y=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(Y||{});function z(e,t=0){var n;return e!==(null==(n=H(e))?void 0:n.body)&&g(t,{0:()=>e.matches(_),1(){let t=e;for(;null!==t;){if(t.matches(_))return!0;t=t.parentElement}return!1}})}function J(e){null==e||e.focus({preventScroll:!0})}let X=["textarea","input"].join(",");function Z(e,t=(e=>e)){return e.slice().sort(((e,n)=>{let r=t(e),o=t(n);if(null===r||null===o)return 0;let l=r.compareDocumentPosition(o);return l&Node.DOCUMENT_POSITION_FOLLOWING?-1:l&Node.DOCUMENT_POSITION_PRECEDING?1:0}))}function ee(e,t){let n,r=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,o=Array.isArray(e)?Z(e):q(e),l=r.activeElement,a=(()=>{if(5&t)return 1;if(10&t)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),i=(()=>{if(1&t)return 0;if(2&t)return Math.max(0,o.indexOf(l))-1;if(4&t)return Math.max(0,o.indexOf(l))+1;if(8&t)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=32&t?{preventScroll:!0}:{},s=0,c=o.length;do{if(s>=c||s+c<=0)return 0;let e=i+s;if(16&t)e=(e+c)%c;else{if(e<0)return 3;if(e>=c)return 1}n=o[e],null==n||n.focus(u),s+=a}while(n!==r.activeElement);return 6&t&&function(e){var t,n;return null!=(n=null==(t=null==e?void 0:e.matches)?void 0:t.call(e,X))&&n}(n)&&n.select(),n.hasAttribute("tabindex")||n.setAttribute("tabindex","0"),2}let te=C((function(e,t){return P({ourProps:{ref:t,style:{position:"absolute",width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",display:"none"}},theirProps:e,slot:{},defaultTag:"div",name:"VisuallyHidden"})}));function ne(e={},t=null,n=[]){for(let[r,o]of Object.entries(e))oe(n,re(t,r),o);return n}function re(e,t){return e?e+"["+t+"]":t}function oe(e,t,n){if(Array.isArray(n))for(let[r,o]of n.entries())oe(e,re(t,r.toString()),o);else n instanceof Date?e.push([t,n.toISOString()]):"boolean"==typeof n?e.push([t,n?"1":"0"]):"string"==typeof n?e.push([t,n]):"number"==typeof n?e.push([t,`${n}`]):null==n?e.push([t,""]):ne(n,t,e)}function le(e){var t;let n=null!=(t=null==e?void 0:e.form)?t:e.closest("form");if(n)for(let e of n.elements)if("INPUT"===e.tagName&&"submit"===e.type||"BUTTON"===e.tagName&&"submit"===e.type||"INPUT"===e.nodeName&&"image"===e.type)return void e.click()}var ae=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(ae||{}),ie=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(ie||{}),ue=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(ue||{}),se=(e=>(e[e.OpenCombobox=0]="OpenCombobox",e[e.CloseCombobox=1]="CloseCombobox",e[e.SetDisabled=2]="SetDisabled",e[e.GoToOption=3]="GoToOption",e[e.RegisterOption=4]="RegisterOption",e[e.UnregisterOption=5]="UnregisterOption",e))(se||{});function ce(e,t=(e=>e)){let n=null!==e.activeOptionIndex?e.options[e.activeOptionIndex]:null,r=Z(t(e.options.slice()),(e=>e.dataRef.current.domRef.current)),o=n?r.indexOf(n):null;return-1===o&&(o=null),{options:r,activeOptionIndex:o}}let de={1:e=>e.disabled||1===e.comboboxState?e:{...e,activeOptionIndex:null,comboboxState:1},0(e){if(e.disabled||0===e.comboboxState)return e;let t=e.activeOptionIndex,{value:n,mode:r}=e.comboboxPropsRef.current,o=e.options.findIndex((e=>{let t=e.dataRef.current.value;return g(r,{1:()=>n.includes(t),0:()=>n===t})}));return-1!==o&&(t=o),{...e,comboboxState:0,activeOptionIndex:t}},2:(e,t)=>e.disabled===t.disabled?e:{...e,disabled:t.disabled},3(e,t){var n;if(e.disabled||e.optionsRef.current&&!e.optionsPropsRef.current.static&&1===e.comboboxState)return e;let r=ce(e);if(null===r.activeOptionIndex){let e=r.options.findIndex((e=>!e.dataRef.current.disabled));-1!==e&&(r.activeOptionIndex=e)}let o=k(t,{resolveItems:()=>r.options,resolveActiveIndex:()=>r.activeOptionIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});return{...e,...r,activeOptionIndex:o,activationTrigger:null!=(n=t.trigger)?n:1}},4:(e,t)=>{let n={id:t.id,dataRef:t.dataRef},r=ce(e,(e=>[...e,n]));if(null===e.activeOptionIndex){let{value:o,mode:l}=e.comboboxPropsRef.current,a=t.dataRef.current.value;g(l,{1:()=>o.includes(a),0:()=>o===a})&&(r.activeOptionIndex=r.options.indexOf(n))}let o={...e,...r,activationTrigger:1};return e.comboboxPropsRef.current.__demoMode&&void 0===e.comboboxPropsRef.current.value&&(o.activeOptionIndex=0),o},5:(e,t)=>{let n=ce(e,(e=>{let n=e.findIndex((e=>e.id===t.id));return-1!==n&&e.splice(n,1),e}));return{...e,...n,activationTrigger:1}}},pe=(0,n.createContext)(null);function fe(e){let t=(0,n.useContext)(pe);if(null===t){let t=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,fe),t}return t}pe.displayName="ComboboxContext";let ve=(0,n.createContext)(null);function be(){let e=(0,n.useContext)(ve);if(null===e){let e=new Error("ComboboxActions is missing a parent <Combobox /> component.");throw Error.captureStackTrace&&Error.captureStackTrace(e,be),e}return e}ve.displayName="ComboboxActions";let me=(0,n.createContext)(null);function ge(){let e=(0,n.useContext)(me);if(null===e){let e=new Error("ComboboxData is missing a parent <Combobox /> component.");throw Error.captureStackTrace&&Error.captureStackTrace(e,ge),e}return e}function xe(e,t){return g(t.type,de,e,t)}me.displayName="ComboboxData";let he=n.Fragment,ye=C((function(e,t){let{name:r,value:o,onChange:a,disabled:i=!1,__demoMode:u=!1,nullable:s=!1,multiple:c=!1,...d}=e,p=(0,n.useRef)(!1),f=(0,n.useRef)({value:o,mode:c?1:0,onChange:a,nullable:s,__demoMode:u});f.current.value=o,f.current.mode=c?1:0,f.current.nullable=s;let v=(0,n.useRef)({static:!1,hold:!1}),b=(0,n.useRef)({displayValue:void 0}),m=(0,n.useReducer)(xe,{comboboxState:u?0:1,comboboxPropsRef:f,optionsPropsRef:v,inputPropsRef:b,labelRef:(0,n.createRef)(),inputRef:(0,n.createRef)(),buttonRef:(0,n.createRef)(),optionsRef:(0,n.createRef)(),disabled:i,options:[],activeOptionIndex:null,activationTrigger:1}),[{comboboxState:x,options:h,activeOptionIndex:y,optionsRef:R,inputRef:S,buttonRef:C},I]=m,O=(0,n.useMemo)((()=>({value:o,mode:c?1:0,get activeOptionIndex(){if(p.current&&null===y&&h.length>0){let e=h.findIndex((e=>!e.dataRef.current.disabled));if(-1!==e)return e}return y}})),[o,y,h]),k=O.activeOptionIndex;l((()=>{f.current.onChange=e=>g(O.mode,{0:()=>a(e),1(){let t=O.value.slice(),n=t.indexOf(e);return-1===n?t.push(e):t.splice(n,1),a(t)}})}),[O,a,f,O]),l((()=>I({type:2,disabled:i})),[i]),A([C,S,R],(()=>{0===x&&I({type:1})}));let w=null===k?null:h[k].dataRef.current.value,D=(0,n.useMemo)((()=>({open:0===x,disabled:i,activeIndex:k,activeOption:w})),[x,i,h,k]),F=(0,n.useCallback)((()=>{var e;if(!S.current)return;let t=b.current.displayValue;S.current.value="function"==typeof t?null!=(e=t(o))?e:"":"string"==typeof o?o:""}),[o,S,b]),L=(0,n.useCallback)((e=>{let t=h.find((t=>t.id===e));if(!t)return;let{dataRef:n}=t;f.current.onChange(n.current.value),F()}),[h,f,S]),M=(0,n.useCallback)((()=>{if(null!==k){let{dataRef:e,id:t}=h[k];f.current.onChange(e.current.value),F(),I({type:3,focus:T.Specific,id:t})}}),[k,h,f,S]),U=(0,n.useMemo)((()=>({selectOption:L,selectActiveOption:M,openCombobox(){I({type:0}),p.current=!0},closeCombobox(){I({type:1}),p.current=!1},goToOption:(e,t,n)=>(p.current=!1,e===T.Specific?I({type:3,focus:T.Specific,id:t,trigger:n}):I({type:3,focus:e,trigger:n})),registerOption:(e,t)=>(I({type:4,id:e,dataRef:t}),()=>I({type:5,id:e}))})),[L,M,I]);l((()=>{1===x&&F()}),[F,x]),l(F,[F]);let j=null===t?{}:{ref:t};return n.createElement(ve.Provider,{value:U},n.createElement(me.Provider,{value:O},n.createElement(pe.Provider,{value:m},n.createElement($,{value:g(x,{0:N.Open,1:N.Closed})},null!=r&&null!=o&&ne({[r]:o}).map((([e,t])=>n.createElement(te,{...E({key:e,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:e,value:t})}))),P({ourProps:j,theirProps:d,slot:D,defaultTag:he,name:"Combobox"})))))})),Pe=C((function(e,t){var r,a;let{value:i,onChange:u,displayValue:s,...c}=e,[v]=fe("Combobox.Input"),b=ge(),x=be(),h=m(v.inputRef,t),y=v.inputPropsRef,R=`headlessui-combobox-input-${d()}`,S=o(),C=p(u);l((()=>{y.current.displayValue=s}),[s,y]);let E=(0,n.useCallback)((e=>{switch(e.key){case O.Backspace:case O.Delete:if(0!==b.mode||!v.comboboxPropsRef.current.nullable)return;let t=e.currentTarget;S.requestAnimationFrame((()=>{""===t.value&&(v.comboboxPropsRef.current.onChange(null),v.optionsRef.current&&(v.optionsRef.current.scrollTop=0),x.goToOption(T.Nothing))}));break;case O.Enter:if(0!==v.comboboxState)return;if(e.preventDefault(),e.stopPropagation(),null===b.activeOptionIndex)return void x.closeCombobox();x.selectActiveOption(),0===b.mode&&x.closeCombobox();break;case O.ArrowDown:return e.preventDefault(),e.stopPropagation(),g(v.comboboxState,{0:()=>{x.goToOption(T.Next)},1:()=>{x.openCombobox(),S.nextFrame((()=>{b.value||x.goToOption(T.Next)}))}});case O.ArrowUp:return e.preventDefault(),e.stopPropagation(),g(v.comboboxState,{0:()=>{x.goToOption(T.Previous)},1:()=>{x.openCombobox(),S.nextFrame((()=>{b.value||x.goToOption(T.Last)}))}});case O.Home:case O.PageUp:return e.preventDefault(),e.stopPropagation(),x.goToOption(T.First);case O.End:case O.PageDown:return e.preventDefault(),e.stopPropagation(),x.goToOption(T.Last);case O.Escape:return e.preventDefault(),v.optionsRef.current&&!v.optionsPropsRef.current.static&&e.stopPropagation(),x.closeCombobox();case O.Tab:x.selectActiveOption(),x.closeCombobox()}}),[S,v,x,b]),I=(0,n.useCallback)((e=>{var t;x.openCombobox(),null==(t=C.current)||t.call(C,e)}),[x,C]),k=f((()=>{if(v.labelRef.current)return[v.labelRef.current.id].join(" ")}),[v.labelRef.current]),w=(0,n.useMemo)((()=>({open:0===v.comboboxState,disabled:v.disabled})),[v]);return P({ourProps:{ref:h,id:R,role:"combobox",type:"text","aria-controls":null==(r=v.optionsRef.current)?void 0:r.id,"aria-expanded":v.disabled?void 0:0===v.comboboxState,"aria-activedescendant":null===b.activeOptionIndex||null==(a=v.options[b.activeOptionIndex])?void 0:a.id,"aria-multiselectable":1===b.mode||void 0,"aria-labelledby":k,disabled:v.disabled,onKeyDown:E,onChange:I},theirProps:c,slot:w,defaultTag:"input",name:"Combobox.Input"})})),Re=C((function(e,t){var r;let[l]=fe("Combobox.Button"),a=ge(),i=be(),u=m(l.buttonRef,t),s=`headlessui-combobox-button-${d()}`,c=o(),p=(0,n.useCallback)((e=>{switch(e.key){case O.ArrowDown:return e.preventDefault(),e.stopPropagation(),1===l.comboboxState&&(i.openCombobox(),c.nextFrame((()=>{a.value||i.goToOption(T.First)}))),c.nextFrame((()=>{var e;return null==(e=l.inputRef.current)?void 0:e.focus({preventScroll:!0})}));case O.ArrowUp:return e.preventDefault(),e.stopPropagation(),1===l.comboboxState&&(i.openCombobox(),c.nextFrame((()=>{a.value||i.goToOption(T.Last)}))),c.nextFrame((()=>{var e;return null==(e=l.inputRef.current)?void 0:e.focus({preventScroll:!0})}));case O.Escape:return e.preventDefault(),l.optionsRef.current&&!l.optionsPropsRef.current.static&&e.stopPropagation(),i.closeCombobox(),c.nextFrame((()=>{var e;return null==(e=l.inputRef.current)?void 0:e.focus({preventScroll:!0})}));default:return}}),[c,l,i,a]),v=(0,n.useCallback)((e=>{if(w(e.currentTarget))return e.preventDefault();0===l.comboboxState?i.closeCombobox():(e.preventDefault(),i.openCombobox()),c.nextFrame((()=>{var e;return null==(e=l.inputRef.current)?void 0:e.focus({preventScroll:!0})}))}),[i,c,l]),b=f((()=>{if(l.labelRef.current)return[l.labelRef.current.id,s].join(" ")}),[l.labelRef.current,s]),g=(0,n.useMemo)((()=>({open:0===l.comboboxState,disabled:l.disabled})),[l]),x=e;return P({ourProps:{ref:u,id:s,type:B(e,l.buttonRef),tabIndex:-1,"aria-haspopup":!0,"aria-controls":null==(r=l.optionsRef.current)?void 0:r.id,"aria-expanded":l.disabled?void 0:0===l.comboboxState,"aria-labelledby":b,disabled:l.disabled,onClick:v,onKeyDown:p},theirProps:x,slot:g,defaultTag:"button",name:"Combobox.Button"})})),Se=C((function(e,t){let[r]=fe("Combobox.Label"),o=`headlessui-combobox-label-${d()}`,l=m(r.labelRef,t),a=(0,n.useCallback)((()=>{var e;return null==(e=r.inputRef.current)?void 0:e.focus({preventScroll:!0})}),[r.inputRef]);return P({ourProps:{ref:l,id:o,onClick:a},theirProps:e,slot:(0,n.useMemo)((()=>({open:0===r.comboboxState,disabled:r.disabled})),[r]),defaultTag:"label",name:"Combobox.Label"})})),Ce=h.RenderStrategy|h.Static,Ee=C((function(e,t){var r;let{hold:o=!1,...a}=e,[i]=fe("Combobox.Options"),u=ge(),{optionsPropsRef:s}=i,c=m(i.optionsRef,t),p=`headlessui-combobox-options-${d()}`,v=U(),b=null!==v?v===N.Open:0===i.comboboxState;l((()=>{var t;s.current.static=null!=(t=e.static)&&t}),[s,e.static]),l((()=>{s.current.hold=o}),[o,s]),G({container:i.optionsRef.current,enabled:0===i.comboboxState,accept:e=>"option"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT,walk(e){e.setAttribute("role","none")}});let g=f((()=>{var e,t,n;return null!=(n=null==(e=i.labelRef.current)?void 0:e.id)?n:null==(t=i.buttonRef.current)?void 0:t.id}),[i.labelRef.current,i.buttonRef.current]),x=(0,n.useMemo)((()=>({open:0===i.comboboxState})),[i]);return P({ourProps:{"aria-activedescendant":null===u.activeOptionIndex||null==(r=i.options[u.activeOptionIndex])?void 0:r.id,"aria-labelledby":g,role:"listbox",id:p,ref:c},theirProps:a,slot:x,defaultTag:"ul",features:Ce,visible:b,name:"Combobox.Options"})})),Ie=C((function(e,t){let{disabled:o=!1,value:a,...i}=e,[u]=fe("Combobox.Option"),s=ge(),c=be(),p=`headlessui-combobox-option-${d()}`,f=null!==s.activeOptionIndex&&u.options[s.activeOptionIndex].id===p,v=g(s.mode,{1:()=>s.value.includes(a),0:()=>s.value===a}),b=(0,n.useRef)(null),x=(0,n.useRef)({disabled:o,value:a,domRef:b}),h=m(t,b);l((()=>{x.current.disabled=o}),[x,o]),l((()=>{x.current.value=a}),[x,a]),l((()=>{var e,t;x.current.textValue=null==(t=null==(e=b.current)?void 0:e.textContent)?void 0:t.toLowerCase()}),[x,b]);let y=(0,n.useCallback)((()=>c.selectOption(p)),[c,p]);l((()=>c.registerOption(p,x)),[x,p]);let R=(0,n.useRef)(!u.comboboxPropsRef.current.__demoMode);l((()=>{if(!u.comboboxPropsRef.current.__demoMode)return;let e=r();return e.requestAnimationFrame((()=>{R.current=!0})),e.dispose}),[]),l((()=>{if(0!==u.comboboxState||!f||!R.current||0===u.activationTrigger)return;let e=r();return e.requestAnimationFrame((()=>{var e,t;null==(t=null==(e=b.current)?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})})),e.dispose}),[b,f,u.comboboxState,u.activationTrigger,s.activeOptionIndex]);let S=(0,n.useCallback)((e=>{if(o)return e.preventDefault();y(),0===s.mode&&(c.closeCombobox(),r().nextFrame((()=>{var e;return null==(e=u.inputRef.current)?void 0:e.focus({preventScroll:!0})})))}),[c,u.inputRef,o,y]),C=(0,n.useCallback)((()=>{if(o)return c.goToOption(T.Nothing);c.goToOption(T.Specific,p)}),[o,p,c]),E=(0,n.useCallback)((()=>{o||f||c.goToOption(T.Specific,p,0)}),[o,f,p,c]),I=(0,n.useCallback)((()=>{o||!f||u.optionsPropsRef.current.hold||c.goToOption(T.Nothing)}),[o,f,c,u.comboboxState,u.comboboxPropsRef]),O=(0,n.useMemo)((()=>({active:f,selected:v,disabled:o})),[f,v,o]);return P({ourProps:{id:p,ref:h,role:"option",tabIndex:!0===o?void 0:-1,"aria-disabled":!0===o||void 0,"aria-selected":!0===v||void 0,disabled:void 0,onClick:S,onFocus:C,onPointerMove:E,onMouseMove:E,onPointerLeave:I,onMouseLeave:I},theirProps:i,slot:O,defaultTag:"li",name:"Combobox.Option"})})),Oe=Object.assign(ye,{Input:Pe,Button:Re,Label:Se,Options:Ee,Option:Ie});function Te(e,t,r,o){let l=p(r);(0,n.useEffect)((()=>{function n(e){l.current(e)}return(e=null!=e?e:window).addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}),[e,t,o])}function ke(){let e=(0,n.useRef)(!1);return l((()=>(e.current=!0,()=>{e.current=!1})),[]),e}function we(...e){return(0,n.useMemo)((()=>H(...e)),[...e])}var De=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(De||{});function Fe(e,t=30,{initialFocus:r,containers:o}={}){let l=(0,n.useRef)(null),a=(0,n.useRef)(null),i=ke(),u=Boolean(16&t),s=Boolean(2&t),c=we(e);return(0,n.useEffect)((()=>{!u||l.current||(l.current=null==c?void 0:c.activeElement)}),[u,c]),(0,n.useEffect)((()=>{if(u)return()=>{J(l.current),l.current=null}}),[u]),(0,n.useEffect)((()=>{if(!s)return;let t=e.current;if(!t)return;let n=null==c?void 0:c.activeElement;if(null!=r&&r.current){if((null==r?void 0:r.current)===n)return void(a.current=n)}else if(t.contains(n))return void(a.current=n);null!=r&&r.current?J(r.current):ee(t,V.First)===W.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),a.current=null==c?void 0:c.activeElement}),[e,r,s,c]),Te(null==c?void 0:c.defaultView,"keydown",(n=>{!(4&t)||!e.current||n.key===O.Tab&&(n.preventDefault(),ee(e.current,(n.shiftKey?V.Previous:V.Next)|V.WrapAround)===W.Success&&(a.current=null==c?void 0:c.activeElement))})),Te(null==c?void 0:c.defaultView,"focus",(n=>{if(!(8&t))return;let r=new Set(null==o?void 0:o.current);if(r.add(e),!r.size)return;let l=a.current;if(!l||!i.current)return;let u=n.target;u&&u instanceof HTMLElement?function(e,t){var n;for(let r of e)if(null!=(n=r.current)&&n.contains(t))return!0;return!1}(r,u)?(a.current=u,J(u)):(n.preventDefault(),n.stopPropagation(),J(l)):J(a.current)}),!0),l}let Le=new Set,Ae=new Map;function Me(e){e.setAttribute("aria-hidden","true"),e.inert=!0}function Ne(e){let t=Ae.get(e);!t||(null===t["aria-hidden"]?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",t["aria-hidden"]),e.inert=t.inert)}const Ue=ReactDOM;let $e=(0,n.createContext)(!1);function je(){return(0,n.useContext)($e)}function Be(e){return n.createElement($e.Provider,{value:e.force},e.children)}let He=n.Fragment,Ge=C((function(e,t){let r=e,o=(0,n.useRef)(null),a=m(b((e=>{o.current=e})),t),u=we(o),s=function(e){let t=je(),r=(0,n.useContext)(Ke),o=we(e),[l,a]=(0,n.useState)((()=>{if(!t&&null!==r||"undefined"==typeof window)return null;let e=null==o?void 0:o.getElementById("headlessui-portal-root");if(e)return e;if(null===o)return null;let n=o.createElement("div");return n.setAttribute("id","headlessui-portal-root"),o.body.appendChild(n)}));return(0,n.useEffect)((()=>{null!==l&&(null!=o&&o.body.contains(l)||null==o||o.body.appendChild(l))}),[l,o]),(0,n.useEffect)((()=>{t||null!==r&&a(r.current)}),[r,a,t]),l}(o),[c]=(0,n.useState)((()=>{var e;return"undefined"==typeof window?null:null!=(e=null==u?void 0:u.createElement("div"))?e:null})),d=i();return l((()=>{if(s&&c)return s.appendChild(c),()=>{var e;!s||!c||(s.removeChild(c),s.childNodes.length<=0&&(null==(e=s.parentElement)||e.removeChild(s)))}}),[s,c]),d&&s&&c?(0,Ue.createPortal)(P({ourProps:{ref:a},theirProps:r,defaultTag:He,name:"Portal"}),c):null})),_e=n.Fragment,Ke=(0,n.createContext)(null),Ve=C((function(e,t){let{target:r,...o}=e,l={ref:m(t)};return n.createElement(Ke.Provider,{value:r},P({ourProps:l,theirProps:o,defaultTag:_e,name:"Popover.Group"}))})),We=Object.assign(Ge,{Group:Ve}),Qe=(0,n.createContext)(null);function qe(){let e=(0,n.useContext)(Qe);if(null===e){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,qe),e}return e}function Ye(){let[e,t]=(0,n.useState)([]);return[e.length>0?e.join(" "):void 0,(0,n.useMemo)((()=>function(e){let r=(0,n.useCallback)((e=>(t((t=>[...t,e])),()=>t((t=>{let n=t.slice(),r=n.indexOf(e);return-1!==r&&n.splice(r,1),n})))),[]),o=(0,n.useMemo)((()=>({register:r,slot:e.slot,name:e.name,props:e.props})),[r,e.slot,e.name,e.props]);return n.createElement(Qe.Provider,{value:o},e.children)}),[t])]}let ze=C((function(e,t){let n=qe(),r=`headlessui-description-${d()}`,o=m(t);l((()=>n.register(r)),[r,n.register]);let a=e;return P({ourProps:{ref:o,...n.props,id:r},theirProps:a,slot:n.slot||{},defaultTag:"p",name:n.name||"Description"})})),Je=(0,n.createContext)((()=>{}));Je.displayName="StackContext";var Xe=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(Xe||{});function Ze({children:e,onUpdate:t,type:r,element:o}){let a=(0,n.useContext)(Je),i=(0,n.useCallback)(((...e)=>{null==t||t(...e),a(...e)}),[a,t]);return l((()=>(i(0,r,o),()=>i(1,r,o))),[i,r,o]),n.createElement(Je.Provider,{value:i},e)}var et=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(et||{}),tt=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(tt||{});let nt={0:(e,t)=>e.titleId===t.id?e:{...e,titleId:t.id}},rt=(0,n.createContext)(null);function ot(e){let t=(0,n.useContext)(rt);if(null===t){let t=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,ot),t}return t}function lt(e,t){return g(t.type,nt,e,t)}rt.displayName="DialogContext";let at=h.RenderStrategy|h.Static,it=C((function(e,t){let{open:r,onClose:o,initialFocus:a,__demoMode:u=!1,...s}=e,[c,p]=(0,n.useState)(0),f=U();void 0===r&&null!==f&&(r=g(f,{[N.Open]:!0,[N.Closed]:!1}));let v=(0,n.useRef)(new Set),b=(0,n.useRef)(null),x=m(b,t),h=we(b),y=e.hasOwnProperty("open")||null!==f,R=e.hasOwnProperty("onClose");if(!y&&!R)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!y)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!R)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if("boolean"!=typeof r)throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${r}`);if("function"!=typeof o)throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${o}`);let S=r?0:1,[C,E]=(0,n.useReducer)(lt,{titleId:null,descriptionId:null,panelRef:(0,n.createRef)()}),I=(0,n.useCallback)((()=>o(!1)),[o]),T=(0,n.useCallback)((e=>E({type:0,id:e})),[E]),k=!!i()&&(!u&&0===S),w=c>1,D=null!==(0,n.useContext)(rt),F=Fe(b,k?g(w?"parent":"leaf",{parent:De.RestoreFocus,leaf:De.All&~De.FocusLock}):De.None,{initialFocus:a,containers:v});(function(e,t=!0){l((()=>{if(!t||!e.current)return;let n=e.current,r=H(n);if(r){Le.add(n);for(let e of Ae.keys())e.contains(n)&&(Ne(e),Ae.delete(e));return r.querySelectorAll("body > *").forEach((e=>{if(e instanceof HTMLElement){for(let t of Le)if(e.contains(t))return;1===Le.size&&(Ae.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),Me(e))}})),()=>{if(Le.delete(n),Le.size>0)r.querySelectorAll("body > *").forEach((e=>{if(e instanceof HTMLElement&&!Ae.has(e)){for(let t of Le)if(e.contains(t))return;Ae.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),Me(e)}}));else for(let e of Ae.keys())Ne(e),Ae.delete(e)}}}),[t])})(b,!!w&&k),A((()=>{var e,t;return[...Array.from(null!=(e=null==h?void 0:h.querySelectorAll("body > *"))?e:[]).filter((e=>!(!(e instanceof HTMLElement)||e.contains(F.current)||C.panelRef.current&&e.contains(C.panelRef.current)))),null!=(t=C.panelRef.current)?t:b.current]}),(()=>{0===S&&(w||I())}),L.IgnoreScrollbars),Te(null==h?void 0:h.defaultView,"keydown",(e=>{e.key===O.Escape&&0===S&&(w||(e.preventDefault(),e.stopPropagation(),I()))})),(0,n.useEffect)((()=>{var e;if(0!==S||D)return;let t=H(b);if(!t)return;let n=t.documentElement,r=null!=(e=t.defaultView)?e:window,o=n.style.overflow,l=n.style.paddingRight,a=r.innerWidth-n.clientWidth;return n.style.overflow="hidden",n.style.paddingRight=`${a}px`,()=>{n.style.overflow=o,n.style.paddingRight=l}}),[S,D]),(0,n.useEffect)((()=>{if(0!==S||!b.current)return;let e=new IntersectionObserver((e=>{for(let t of e)0===t.boundingClientRect.x&&0===t.boundingClientRect.y&&0===t.boundingClientRect.width&&0===t.boundingClientRect.height&&I()}));return e.observe(b.current),()=>e.disconnect()}),[S,b,I]);let[M,$]=Ye(),j=`headlessui-dialog-${d()}`,B=(0,n.useMemo)((()=>[{dialogState:S,close:I,setTitleId:T},C]),[S,C,I,T]),G=(0,n.useMemo)((()=>({open:0===S})),[S]),_={ref:x,id:j,role:"dialog","aria-modal":0===S||void 0,"aria-labelledby":C.titleId,"aria-describedby":M,onClick(e){e.stopPropagation()}};return n.createElement(Ze,{type:"Dialog",element:b,onUpdate:(0,n.useCallback)(((e,t,n)=>{"Dialog"===t&&g(e,{[Xe.Add](){v.current.add(n),p((e=>e+1))},[Xe.Remove](){v.current.add(n),p((e=>e-1))}})}),[])},n.createElement(Be,{force:!0},n.createElement(We,null,n.createElement(rt.Provider,{value:B},n.createElement(We.Group,{target:b},n.createElement(Be,{force:!1},n.createElement($,{slot:G,name:"Dialog.Description"},P({ourProps:_,theirProps:s,slot:G,defaultTag:"div",features:at,visible:0===S,name:"Dialog"}))))))))})),ut=C((function(e,t){let[{dialogState:r,close:o}]=ot("Dialog.Overlay"),l=m(t),a=`headlessui-dialog-overlay-${d()}`,i=(0,n.useCallback)((e=>{if(e.target===e.currentTarget){if(w(e.currentTarget))return e.preventDefault();e.preventDefault(),e.stopPropagation(),o()}}),[o]);return P({ourProps:{ref:l,id:a,"aria-hidden":!0,onClick:i},theirProps:e,slot:(0,n.useMemo)((()=>({open:0===r})),[r]),defaultTag:"div",name:"Dialog.Overlay"})})),st=C((function(e,t){let[{dialogState:r},o]=ot("Dialog.Backdrop"),l=m(t),a=`headlessui-dialog-backdrop-${d()}`;(0,n.useEffect)((()=>{if(null===o.panelRef.current)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")}),[o.panelRef]);let i=(0,n.useMemo)((()=>({open:0===r})),[r]);return n.createElement(Be,{force:!0},n.createElement(We,null,P({ourProps:{ref:l,id:a,"aria-hidden":!0},theirProps:e,slot:i,defaultTag:"div",name:"Dialog.Backdrop"})))})),ct=C((function(e,t){let[{dialogState:r},o]=ot("Dialog.Panel");return P({ourProps:{ref:m(t,o.panelRef),id:`headlessui-dialog-panel-${d()}`},theirProps:e,slot:(0,n.useMemo)((()=>({open:0===r})),[r]),defaultTag:"div",name:"Dialog.Panel"})})),dt=C((function(e,t){let[{dialogState:r,setTitleId:o}]=ot("Dialog.Title"),l=`headlessui-dialog-title-${d()}`,a=m(t);(0,n.useEffect)((()=>(o(l),()=>o(null))),[l,o]);let i=(0,n.useMemo)((()=>({open:0===r})),[r]);return P({ourProps:{ref:a,id:l},theirProps:e,slot:i,defaultTag:"h2",name:"Dialog.Title"})})),pt=Object.assign(it,{Backdrop:st,Panel:ct,Overlay:ut,Title:dt,Description:ze});var ft=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(ft||{}),vt=(e=>(e[e.ToggleDisclosure=0]="ToggleDisclosure",e[e.CloseDisclosure=1]="CloseDisclosure",e[e.SetButtonId=2]="SetButtonId",e[e.SetPanelId=3]="SetPanelId",e[e.LinkPanel=4]="LinkPanel",e[e.UnlinkPanel=5]="UnlinkPanel",e))(vt||{});let bt={0:e=>({...e,disclosureState:g(e.disclosureState,{0:1,1:0})}),1:e=>1===e.disclosureState?e:{...e,disclosureState:1},4:e=>!0===e.linkedPanel?e:{...e,linkedPanel:!0},5:e=>!1===e.linkedPanel?e:{...e,linkedPanel:!1},2:(e,t)=>e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId},3:(e,t)=>e.panelId===t.panelId?e:{...e,panelId:t.panelId}},mt=(0,n.createContext)(null);function gt(e){let t=(0,n.useContext)(mt);if(null===t){let t=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,gt),t}return t}mt.displayName="DisclosureContext";let xt=(0,n.createContext)(null);function ht(e){let t=(0,n.useContext)(xt);if(null===t){let t=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,ht),t}return t}xt.displayName="DisclosureAPIContext";let yt=(0,n.createContext)(null);function Pt(e,t){return g(t.type,bt,e,t)}yt.displayName="DisclosurePanelContext";let Rt=n.Fragment,St=C((function(e,t){let{defaultOpen:r=!1,...o}=e,l=`headlessui-disclosure-button-${d()}`,a=`headlessui-disclosure-panel-${d()}`,i=(0,n.useRef)(null),u=m(t,b((e=>{i.current=e}),void 0===e.as||e.as===n.Fragment)),s=(0,n.useRef)(null),c=(0,n.useRef)(null),p=(0,n.useReducer)(Pt,{disclosureState:r?0:1,linkedPanel:!1,buttonRef:c,panelRef:s,buttonId:l,panelId:a}),[{disclosureState:f},v]=p;(0,n.useEffect)((()=>v({type:2,buttonId:l})),[l,v]),(0,n.useEffect)((()=>v({type:3,panelId:a})),[a,v]);let x=(0,n.useCallback)((e=>{v({type:1});let t=H(i);if(!t)return;let n=e?e instanceof HTMLElement?e:e.current instanceof HTMLElement?e.current:t.getElementById(l):t.getElementById(l);null==n||n.focus()}),[v,l]),h=(0,n.useMemo)((()=>({close:x})),[x]),y=(0,n.useMemo)((()=>({open:0===f,close:x})),[f,x]),R={ref:u};return n.createElement(mt.Provider,{value:p},n.createElement(xt.Provider,{value:h},n.createElement($,{value:g(f,{0:N.Open,1:N.Closed})},P({ourProps:R,theirProps:o,slot:y,defaultTag:Rt,name:"Disclosure"}))))})),Ct=C((function(e,t){let[r,o]=gt("Disclosure.Button"),l=(0,n.useContext)(yt),a=null!==l&&l===r.panelId,i=(0,n.useRef)(null),u=m(i,t,a?null:r.buttonRef),s=(0,n.useCallback)((e=>{var t;if(a){if(1===r.disclosureState)return;switch(e.key){case O.Space:case O.Enter:e.preventDefault(),e.stopPropagation(),o({type:0}),null==(t=r.buttonRef.current)||t.focus()}}else switch(e.key){case O.Space:case O.Enter:e.preventDefault(),e.stopPropagation(),o({type:0})}}),[o,a,r.disclosureState,r.buttonRef]),c=(0,n.useCallback)((e=>{if(e.key===O.Space)e.preventDefault()}),[]),d=(0,n.useCallback)((t=>{var n;w(t.currentTarget)||e.disabled||(a?(o({type:0}),null==(n=r.buttonRef.current)||n.focus()):o({type:0}))}),[o,e.disabled,r.buttonRef,a]),p=(0,n.useMemo)((()=>({open:0===r.disclosureState})),[r]),f=B(e,i),v=e;return P({ourProps:a?{ref:u,type:f,onKeyDown:s,onClick:d}:{ref:u,id:r.buttonId,type:f,"aria-expanded":e.disabled?void 0:0===r.disclosureState,"aria-controls":r.linkedPanel?r.panelId:void 0,onKeyDown:s,onKeyUp:c,onClick:d},theirProps:v,slot:p,defaultTag:"button",name:"Disclosure.Button"})})),Et=h.RenderStrategy|h.Static,It=C((function(e,t){let[r,o]=gt("Disclosure.Panel"),{close:l}=ht("Disclosure.Panel"),a=m(t,r.panelRef,(()=>{r.linkedPanel||o({type:4})})),i=U(),u=null!==i?i===N.Open:0===r.disclosureState;(0,n.useEffect)((()=>()=>o({type:5})),[o]),(0,n.useEffect)((()=>{var t;1===r.disclosureState&&(null==(t=e.unmount)||t)&&o({type:5})}),[r.disclosureState,e.unmount,o]);let s=(0,n.useMemo)((()=>({open:0===r.disclosureState,close:l})),[r,l]),c=e,d={ref:a,id:r.panelId};return n.createElement(yt.Provider,{value:r.panelId},P({ourProps:d,theirProps:c,slot:s,defaultTag:"div",features:Et,visible:u,name:"Disclosure.Panel"}))})),Ot=Object.assign(St,{Button:Ct,Panel:It}),Tt=C((function(e,t){let r=(0,n.useRef)(null),o=m(r,t),{initialFocus:l,...a}=e;return Fe(r,i()?De.All:De.None,{initialFocus:l}),P({ourProps:{ref:o},theirProps:a,defaultTag:"div",name:"FocusTrap"})}));var kt,wt=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(wt||{}),Dt=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Dt||{}),Ft=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Ft||{}),Lt=((kt=Lt||{})[kt.OpenListbox=0]="OpenListbox",kt[kt.CloseListbox=1]="CloseListbox",kt[kt.SetDisabled=2]="SetDisabled",kt[kt.SetOrientation=3]="SetOrientation",kt[kt.GoToOption=4]="GoToOption",kt[kt.Search=5]="Search",kt[kt.ClearSearch=6]="ClearSearch",kt[kt.RegisterOption=7]="RegisterOption",kt[kt.UnregisterOption=8]="UnregisterOption",kt);function At(e,t=(e=>e)){let n=null!==e.activeOptionIndex?e.options[e.activeOptionIndex]:null,r=Z(t(e.options.slice()),(e=>e.dataRef.current.domRef.current)),o=n?r.indexOf(n):null;return-1===o&&(o=null),{options:r,activeOptionIndex:o}}let Mt={1:e=>e.disabled||1===e.listboxState?e:{...e,activeOptionIndex:null,listboxState:1},0(e){if(e.disabled||0===e.listboxState)return e;let t=e.activeOptionIndex,{value:n,mode:r}=e.propsRef.current,o=e.options.findIndex((e=>{let t=e.dataRef.current.value;return g(r,{1:()=>n.includes(t),0:()=>n===t})}));return-1!==o&&(t=o),{...e,listboxState:0,activeOptionIndex:t}},2:(e,t)=>e.disabled===t.disabled?e:{...e,disabled:t.disabled},3:(e,t)=>e.orientation===t.orientation?e:{...e,orientation:t.orientation},4(e,t){var n;if(e.disabled||1===e.listboxState)return e;let r=At(e),o=k(t,{resolveItems:()=>r.options,resolveActiveIndex:()=>r.activeOptionIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});return{...e,...r,searchQuery:"",activeOptionIndex:o,activationTrigger:null!=(n=t.trigger)?n:1}},5:(e,t)=>{if(e.disabled||1===e.listboxState)return e;let n=""!==e.searchQuery?0:1,r=e.searchQuery+t.value.toLowerCase(),o=(null!==e.activeOptionIndex?e.options.slice(e.activeOptionIndex+n).concat(e.options.slice(0,e.activeOptionIndex+n)):e.options).find((e=>{var t;return!e.dataRef.current.disabled&&(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(r))})),l=o?e.options.indexOf(o):-1;return-1===l||l===e.activeOptionIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeOptionIndex:l,activationTrigger:1}},6:e=>e.disabled||1===e.listboxState||""===e.searchQuery?e:{...e,searchQuery:""},7:(e,t)=>{let n={id:t.id,dataRef:t.dataRef},r=At(e,(e=>[...e,n]));if(null===e.activeOptionIndex){let{value:o,mode:l}=e.propsRef.current,a=t.dataRef.current.value;g(l,{1:()=>o.includes(a),0:()=>o===a})&&(r.activeOptionIndex=r.options.indexOf(n))}return{...e,...r}},8:(e,t)=>{let n=At(e,(e=>{let n=e.findIndex((e=>e.id===t.id));return-1!==n&&e.splice(n,1),e}));return{...e,...n,activationTrigger:1}}},Nt=(0,n.createContext)(null);function Ut(e){let t=(0,n.useContext)(Nt);if(null===t){let t=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Ut),t}return t}function $t(e,t){return g(t.type,Mt,e,t)}Nt.displayName="ListboxContext";let jt=n.Fragment,Bt=C((function(e,t){let{value:r,name:o,onChange:a,disabled:i=!1,horizontal:u=!1,multiple:s=!1,...c}=e;const d=u?"horizontal":"vertical";let p=m(t),f=(0,n.useReducer)($t,{listboxState:1,propsRef:{current:{value:r,onChange:a,mode:s?1:0}},labelRef:(0,n.createRef)(),buttonRef:(0,n.createRef)(),optionsRef:(0,n.createRef)(),disabled:i,orientation:d,options:[],searchQuery:"",activeOptionIndex:null,activationTrigger:1}),[{listboxState:v,propsRef:b,optionsRef:x,buttonRef:h},y]=f;b.current.value=r,b.current.mode=s?1:0,l((()=>{b.current.onChange=e=>g(b.current.mode,{0:()=>a(e),1(){let t=b.current.value.slice(),n=t.indexOf(e);return-1===n?t.push(e):t.splice(n,1),a(t)}})}),[a,b]),l((()=>y({type:2,disabled:i})),[i]),l((()=>y({type:3,orientation:d})),[d]),A([h,x],((e,t)=>{var n;0===v&&(y({type:1}),z(t,Y.Loose)||(e.preventDefault(),null==(n=h.current)||n.focus()))}));let R=(0,n.useMemo)((()=>({open:0===v,disabled:i})),[v,i]),S={ref:p};return n.createElement(Nt.Provider,{value:f},n.createElement($,{value:g(v,{0:N.Open,1:N.Closed})},null!=o&&null!=r&&ne({[o]:r}).map((([e,t])=>n.createElement(te,{...E({key:e,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:e,value:t})}))),P({ourProps:S,theirProps:c,slot:R,defaultTag:jt,name:"Listbox"})))})),Ht=C((function(e,t){var r;let[l,a]=Ut("Listbox.Button"),i=m(l.buttonRef,t),u=`headlessui-listbox-button-${d()}`,s=o(),c=(0,n.useCallback)((e=>{switch(e.key){case O.Space:case O.Enter:case O.ArrowDown:e.preventDefault(),a({type:0}),s.nextFrame((()=>{l.propsRef.current.value||a({type:4,focus:T.First})}));break;case O.ArrowUp:e.preventDefault(),a({type:0}),s.nextFrame((()=>{l.propsRef.current.value||a({type:4,focus:T.Last})}))}}),[a,l,s]),p=(0,n.useCallback)((e=>{if(e.key===O.Space)e.preventDefault()}),[]),v=(0,n.useCallback)((e=>{if(w(e.currentTarget))return e.preventDefault();0===l.listboxState?(a({type:1}),s.nextFrame((()=>{var e;return null==(e=l.buttonRef.current)?void 0:e.focus({preventScroll:!0})}))):(e.preventDefault(),a({type:0}))}),[a,s,l]),b=f((()=>{if(l.labelRef.current)return[l.labelRef.current.id,u].join(" ")}),[l.labelRef.current,u]),g=(0,n.useMemo)((()=>({open:0===l.listboxState,disabled:l.disabled})),[l]),x=e;return P({ourProps:{ref:i,id:u,type:B(e,l.buttonRef),"aria-haspopup":!0,"aria-controls":null==(r=l.optionsRef.current)?void 0:r.id,"aria-expanded":l.disabled?void 0:0===l.listboxState,"aria-labelledby":b,disabled:l.disabled,onKeyDown:c,onKeyUp:p,onClick:v},theirProps:x,slot:g,defaultTag:"button",name:"Listbox.Button"})})),Gt=C((function(e,t){let[r]=Ut("Listbox.Label"),o=`headlessui-listbox-label-${d()}`;return P({ourProps:{ref:m(r.labelRef,t),id:o,onClick:(0,n.useCallback)((()=>{var e;return null==(e=r.buttonRef.current)?void 0:e.focus({preventScroll:!0})}),[r.buttonRef])},theirProps:e,slot:(0,n.useMemo)((()=>({open:0===r.listboxState,disabled:r.disabled})),[r]),defaultTag:"label",name:"Listbox.Label"})})),_t=h.RenderStrategy|h.Static,Kt=C((function(e,t){var l;let[a,i]=Ut("Listbox.Options"),u=m(a.optionsRef,t),s=`headlessui-listbox-options-${d()}`,c=o(),p=o(),v=U(),b=null!==v?v===N.Open:0===a.listboxState;(0,n.useEffect)((()=>{var e;let t=a.optionsRef.current;!t||0===a.listboxState&&t!==(null==(e=H(t))?void 0:e.activeElement)&&t.focus({preventScroll:!0})}),[a.listboxState,a.optionsRef]);let x=(0,n.useCallback)((e=>{switch(p.dispose(),e.key){case O.Space:if(""!==a.searchQuery)return e.preventDefault(),e.stopPropagation(),i({type:5,value:e.key});case O.Enter:if(e.preventDefault(),e.stopPropagation(),null!==a.activeOptionIndex){let{dataRef:e}=a.options[a.activeOptionIndex];a.propsRef.current.onChange(e.current.value)}0===a.propsRef.current.mode&&(i({type:1}),r().nextFrame((()=>{var e;return null==(e=a.buttonRef.current)?void 0:e.focus({preventScroll:!0})})));break;case g(a.orientation,{vertical:O.ArrowDown,horizontal:O.ArrowRight}):return e.preventDefault(),e.stopPropagation(),i({type:4,focus:T.Next});case g(a.orientation,{vertical:O.ArrowUp,horizontal:O.ArrowLeft}):return e.preventDefault(),e.stopPropagation(),i({type:4,focus:T.Previous});case O.Home:case O.PageUp:return e.preventDefault(),e.stopPropagation(),i({type:4,focus:T.First});case O.End:case O.PageDown:return e.preventDefault(),e.stopPropagation(),i({type:4,focus:T.Last});case O.Escape:return e.preventDefault(),e.stopPropagation(),i({type:1}),c.nextFrame((()=>{var e;return null==(e=a.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));case O.Tab:e.preventDefault(),e.stopPropagation();break;default:1===e.key.length&&(i({type:5,value:e.key}),p.setTimeout((()=>i({type:6})),350))}}),[c,i,p,a]),h=f((()=>{var e,t,n;return null!=(n=null==(e=a.labelRef.current)?void 0:e.id)?n:null==(t=a.buttonRef.current)?void 0:t.id}),[a.labelRef.current,a.buttonRef.current]),y=(0,n.useMemo)((()=>({open:0===a.listboxState})),[a]),R=e;return P({ourProps:{"aria-activedescendant":null===a.activeOptionIndex||null==(l=a.options[a.activeOptionIndex])?void 0:l.id,"aria-multiselectable":1===a.propsRef.current.mode||void 0,"aria-labelledby":h,"aria-orientation":a.orientation,id:s,onKeyDown:x,role:"listbox",tabIndex:0,ref:u},theirProps:R,slot:y,defaultTag:"ul",features:_t,visible:b,name:"Listbox.Options"})})),Vt=C((function(e,t){let{disabled:o=!1,value:a,...i}=e,[u,s]=Ut("Listbox.Option"),c=`headlessui-listbox-option-${d()}`,p=null!==u.activeOptionIndex&&u.options[u.activeOptionIndex].id===c,f=g(u.propsRef.current.mode,{1:()=>u.propsRef.current.value.includes(a),0:()=>u.propsRef.current.value===a}),v=(0,n.useRef)(null),b=m(t,v);l((()=>{if(0!==u.listboxState||!p||0===u.activationTrigger)return;let e=r();return e.requestAnimationFrame((()=>{var e,t;null==(t=null==(e=v.current)?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})})),e.dispose}),[v,p,u.listboxState,u.activationTrigger,u.activeOptionIndex]);let x=(0,n.useRef)({disabled:o,value:a,domRef:v});l((()=>{x.current.disabled=o}),[x,o]),l((()=>{x.current.value=a}),[x,a]),l((()=>{var e,t;x.current.textValue=null==(t=null==(e=v.current)?void 0:e.textContent)?void 0:t.toLowerCase()}),[x,v]);let h=(0,n.useCallback)((()=>u.propsRef.current.onChange(a)),[u.propsRef,a]);l((()=>(s({type:7,id:c,dataRef:x}),()=>s({type:8,id:c}))),[x,c]);let y=(0,n.useCallback)((e=>{if(o)return e.preventDefault();h(),0===u.propsRef.current.mode&&(s({type:1}),r().nextFrame((()=>{var e;return null==(e=u.buttonRef.current)?void 0:e.focus({preventScroll:!0})})))}),[s,u.buttonRef,o,h]),R=(0,n.useCallback)((()=>{if(o)return s({type:4,focus:T.Nothing});s({type:4,focus:T.Specific,id:c})}),[o,c,s]),S=(0,n.useCallback)((()=>{o||p||s({type:4,focus:T.Specific,id:c,trigger:0})}),[o,p,c,s]),C=(0,n.useCallback)((()=>{o||!p||s({type:4,focus:T.Nothing})}),[o,p,s]),E=(0,n.useMemo)((()=>({active:p,selected:f,disabled:o})),[p,f,o]);return P({ourProps:{id:c,ref:b,role:"option",tabIndex:!0===o?void 0:-1,"aria-disabled":!0===o||void 0,"aria-selected":!0===f||void 0,disabled:void 0,onClick:y,onFocus:R,onPointerMove:S,onMouseMove:S,onPointerLeave:C,onMouseLeave:C},theirProps:i,slot:E,defaultTag:"li",name:"Listbox.Option"})})),Wt=Object.assign(Bt,{Button:Ht,Label:Gt,Options:Kt,Option:Vt});var Qt=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Qt||{}),qt=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(qt||{}),Yt=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItem=5]="RegisterItem",e[e.UnregisterItem=6]="UnregisterItem",e))(Yt||{});function zt(e,t=(e=>e)){let n=null!==e.activeItemIndex?e.items[e.activeItemIndex]:null,r=Z(t(e.items.slice()),(e=>e.dataRef.current.domRef.current)),o=n?r.indexOf(n):null;return-1===o&&(o=null),{items:r,activeItemIndex:o}}let Jt={1:e=>1===e.menuState?e:{...e,activeItemIndex:null,menuState:1},0:e=>0===e.menuState?e:{...e,menuState:0},2:(e,t)=>{var n;let r=zt(e),o=k(t,{resolveItems:()=>r.items,resolveActiveIndex:()=>r.activeItemIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});return{...e,...r,searchQuery:"",activeItemIndex:o,activationTrigger:null!=(n=t.trigger)?n:1}},3:(e,t)=>{let n=""!==e.searchQuery?0:1,r=e.searchQuery+t.value.toLowerCase(),o=(null!==e.activeItemIndex?e.items.slice(e.activeItemIndex+n).concat(e.items.slice(0,e.activeItemIndex+n)):e.items).find((e=>{var t;return(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(r))&&!e.dataRef.current.disabled})),l=o?e.items.indexOf(o):-1;return-1===l||l===e.activeItemIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeItemIndex:l,activationTrigger:1}},4:e=>""===e.searchQuery?e:{...e,searchQuery:"",searchActiveItemIndex:null},5:(e,t)=>{let n=zt(e,(e=>[...e,{id:t.id,dataRef:t.dataRef}]));return{...e,...n}},6:(e,t)=>{let n=zt(e,(e=>{let n=e.findIndex((e=>e.id===t.id));return-1!==n&&e.splice(n,1),e}));return{...e,...n,activationTrigger:1}}},Xt=(0,n.createContext)(null);function Zt(e){let t=(0,n.useContext)(Xt);if(null===t){let t=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Zt),t}return t}function en(e,t){return g(t.type,Jt,e,t)}Xt.displayName="MenuContext";let tn=n.Fragment,nn=C((function(e,t){let r=(0,n.useReducer)(en,{menuState:1,buttonRef:(0,n.createRef)(),itemsRef:(0,n.createRef)(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:o,itemsRef:l,buttonRef:a},i]=r,u=m(t);A([a,l],((e,t)=>{var n;0===o&&(i({type:1}),z(t,Y.Loose)||(e.preventDefault(),null==(n=a.current)||n.focus()))}));let s=(0,n.useMemo)((()=>({open:0===o})),[o]),c=e,d={ref:u};return n.createElement(Xt.Provider,{value:r},n.createElement($,{value:g(o,{0:N.Open,1:N.Closed})},P({ourProps:d,theirProps:c,slot:s,defaultTag:tn,name:"Menu"})))})),rn=C((function(e,t){var r;let[l,a]=Zt("Menu.Button"),i=m(l.buttonRef,t),u=`headlessui-menu-button-${d()}`,s=o(),c=(0,n.useCallback)((e=>{switch(e.key){case O.Space:case O.Enter:case O.ArrowDown:e.preventDefault(),e.stopPropagation(),a({type:0}),s.nextFrame((()=>a({type:2,focus:T.First})));break;case O.ArrowUp:e.preventDefault(),e.stopPropagation(),a({type:0}),s.nextFrame((()=>a({type:2,focus:T.Last})))}}),[a,s]),p=(0,n.useCallback)((e=>{if(e.key===O.Space)e.preventDefault()}),[]),f=(0,n.useCallback)((t=>{if(w(t.currentTarget))return t.preventDefault();e.disabled||(0===l.menuState?(a({type:1}),s.nextFrame((()=>{var e;return null==(e=l.buttonRef.current)?void 0:e.focus({preventScroll:!0})}))):(t.preventDefault(),t.stopPropagation(),a({type:0})))}),[a,s,l,e.disabled]),v=(0,n.useMemo)((()=>({open:0===l.menuState})),[l]),b=e;return P({ourProps:{ref:i,id:u,type:B(e,l.buttonRef),"aria-haspopup":!0,"aria-controls":null==(r=l.itemsRef.current)?void 0:r.id,"aria-expanded":e.disabled?void 0:0===l.menuState,onKeyDown:c,onKeyUp:p,onClick:f},theirProps:b,slot:v,defaultTag:"button",name:"Menu.Button"})})),on=h.RenderStrategy|h.Static,ln=C((function(e,t){var l,a;let[i,u]=Zt("Menu.Items"),s=m(i.itemsRef,t),c=we(i.itemsRef),p=`headlessui-menu-items-${d()}`,f=o(),v=U(),b=null!==v?v===N.Open:0===i.menuState;(0,n.useEffect)((()=>{let e=i.itemsRef.current;!e||0===i.menuState&&e!==(null==c?void 0:c.activeElement)&&e.focus({preventScroll:!0})}),[i.menuState,i.itemsRef,c]),G({container:i.itemsRef.current,enabled:0===i.menuState,accept:e=>"menuitem"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT,walk(e){e.setAttribute("role","none")}});let g=(0,n.useCallback)((e=>{var t,n;switch(f.dispose(),e.key){case O.Space:if(""!==i.searchQuery)return e.preventDefault(),e.stopPropagation(),u({type:3,value:e.key});case O.Enter:if(e.preventDefault(),e.stopPropagation(),u({type:1}),null!==i.activeItemIndex){let{dataRef:e}=i.items[i.activeItemIndex];null==(n=null==(t=e.current)?void 0:t.domRef.current)||n.click()}r().nextFrame((()=>{var e;return null==(e=i.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));break;case O.ArrowDown:return e.preventDefault(),e.stopPropagation(),u({type:2,focus:T.Next});case O.ArrowUp:return e.preventDefault(),e.stopPropagation(),u({type:2,focus:T.Previous});case O.Home:case O.PageUp:return e.preventDefault(),e.stopPropagation(),u({type:2,focus:T.First});case O.End:case O.PageDown:return e.preventDefault(),e.stopPropagation(),u({type:2,focus:T.Last});case O.Escape:e.preventDefault(),e.stopPropagation(),u({type:1}),r().nextFrame((()=>{var e;return null==(e=i.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));break;case O.Tab:e.preventDefault(),e.stopPropagation();break;default:1===e.key.length&&(u({type:3,value:e.key}),f.setTimeout((()=>u({type:4})),350))}}),[u,f,i,c]),x=(0,n.useCallback)((e=>{if(e.key===O.Space)e.preventDefault()}),[]),h=(0,n.useMemo)((()=>({open:0===i.menuState})),[i]),y=e;return P({ourProps:{"aria-activedescendant":null===i.activeItemIndex||null==(l=i.items[i.activeItemIndex])?void 0:l.id,"aria-labelledby":null==(a=i.buttonRef.current)?void 0:a.id,id:p,onKeyDown:g,onKeyUp:x,role:"menu",tabIndex:0,ref:s},theirProps:y,slot:h,defaultTag:"div",features:on,visible:b,name:"Menu.Items"})})),an=n.Fragment,un=C((function(e,t){let{disabled:o=!1,...a}=e,[i,u]=Zt("Menu.Item"),s=`headlessui-menu-item-${d()}`,c=null!==i.activeItemIndex&&i.items[i.activeItemIndex].id===s,p=(0,n.useRef)(null),f=m(t,p);l((()=>{if(0!==i.menuState||!c||0===i.activationTrigger)return;let e=r();return e.requestAnimationFrame((()=>{var e,t;null==(t=null==(e=p.current)?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})})),e.dispose}),[p,c,i.menuState,i.activationTrigger,i.activeItemIndex]);let v=(0,n.useRef)({disabled:o,domRef:p});l((()=>{v.current.disabled=o}),[v,o]),l((()=>{var e,t;v.current.textValue=null==(t=null==(e=p.current)?void 0:e.textContent)?void 0:t.toLowerCase()}),[v,p]),l((()=>(u({type:5,id:s,dataRef:v}),()=>u({type:6,id:s}))),[v,s]);let b=(0,n.useCallback)((e=>{if(o)return e.preventDefault();u({type:1}),r().nextFrame((()=>{var e;return null==(e=i.buttonRef.current)?void 0:e.focus({preventScroll:!0})}))}),[u,i.buttonRef,o]),g=(0,n.useCallback)((()=>{if(o)return u({type:2,focus:T.Nothing});u({type:2,focus:T.Specific,id:s})}),[o,s,u]),x=(0,n.useCallback)((()=>{o||c||u({type:2,focus:T.Specific,id:s,trigger:0})}),[o,c,s,u]),h=(0,n.useCallback)((()=>{o||!c||u({type:2,focus:T.Nothing})}),[o,c,u]),y=(0,n.useMemo)((()=>({active:c,disabled:o})),[c,o]);return P({ourProps:{id:s,ref:f,role:"menuitem",tabIndex:!0===o?void 0:-1,"aria-disabled":!0===o||void 0,disabled:void 0,onClick:b,onFocus:g,onPointerMove:x,onMouseMove:x,onPointerLeave:h,onMouseLeave:h},theirProps:a,slot:y,defaultTag:an,name:"Menu.Item"})})),sn=Object.assign(nn,{Button:rn,Items:ln,Item:un});var cn=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(cn||{}),dn=(e=>(e[e.TogglePopover=0]="TogglePopover",e[e.ClosePopover=1]="ClosePopover",e[e.SetButton=2]="SetButton",e[e.SetButtonId=3]="SetButtonId",e[e.SetPanel=4]="SetPanel",e[e.SetPanelId=5]="SetPanelId",e))(dn||{});let pn={0:e=>({...e,popoverState:g(e.popoverState,{0:1,1:0})}),1:e=>1===e.popoverState?e:{...e,popoverState:1},2:(e,t)=>e.button===t.button?e:{...e,button:t.button},3:(e,t)=>e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId},4:(e,t)=>e.panel===t.panel?e:{...e,panel:t.panel},5:(e,t)=>e.panelId===t.panelId?e:{...e,panelId:t.panelId}},fn=(0,n.createContext)(null);function vn(e){let t=(0,n.useContext)(fn);if(null===t){let t=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,vn),t}return t}fn.displayName="PopoverContext";let bn=(0,n.createContext)(null);function mn(e){let t=(0,n.useContext)(bn);if(null===t){let t=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,mn),t}return t}bn.displayName="PopoverAPIContext";let gn=(0,n.createContext)(null);function xn(){return(0,n.useContext)(gn)}gn.displayName="PopoverGroupContext";let hn=(0,n.createContext)(null);function yn(e,t){return g(t.type,pn,e,t)}hn.displayName="PopoverPanelContext";let Pn=C((function(e,t){let r=`headlessui-popover-button-${d()}`,o=`headlessui-popover-panel-${d()}`,l=(0,n.useRef)(null),a=m(t,l),i=we(l),u=(0,n.useReducer)(yn,{popoverState:1,button:null,buttonId:r,panel:null,panelId:o}),[{popoverState:s,button:c,panel:p},f]=u;(0,n.useEffect)((()=>f({type:3,buttonId:r})),[r,f]),(0,n.useEffect)((()=>f({type:5,panelId:o})),[o,f]);let v=(0,n.useMemo)((()=>({buttonId:r,panelId:o,close:()=>f({type:1})})),[r,o,f]),b=xn(),x=null==b?void 0:b.registerPopover,h=(0,n.useCallback)((()=>{var e;return null!=(e=null==b?void 0:b.isFocusWithinPopoverGroup())?e:(null==i?void 0:i.activeElement)&&((null==c?void 0:c.contains(i.activeElement))||(null==p?void 0:p.contains(i.activeElement)))}),[b,c,p]);(0,n.useEffect)((()=>null==x?void 0:x(v)),[x,v]),Te(null==i?void 0:i.defaultView,"focus",(()=>{0===s&&(h()||!c||!p||f({type:1}))}),!0),A([c,p],((e,t)=>{0===s&&(f({type:1}),z(t,Y.Loose)||(e.preventDefault(),null==c||c.focus()))}));let y=(0,n.useCallback)((e=>{f({type:1});let t=e?e instanceof HTMLElement?e:e.current instanceof HTMLElement?e.current:c:c;null==t||t.focus()}),[f,c]),R=(0,n.useMemo)((()=>({close:y})),[y]),S=(0,n.useMemo)((()=>({open:0===s,close:y})),[s,y]),C=e,E={ref:a};return n.createElement(fn.Provider,{value:u},n.createElement(bn.Provider,{value:R},n.createElement($,{value:g(s,{0:N.Open,1:N.Closed})},P({ourProps:E,theirProps:C,slot:S,defaultTag:"div",name:"Popover"}))))})),Rn=C((function(e,t){let[r,o]=vn("Popover.Button"),l=(0,n.useRef)(null),a=xn(),i=null==a?void 0:a.closeOthers,u=(0,n.useContext)(hn),s=null!==u&&u===r.panelId,c=m(l,t,s?null:e=>o({type:2,button:e})),d=m(l,t),p=we(l),f=(0,n.useRef)(null),v=(0,n.useRef)(null);Te(null==p?void 0:p.defaultView,"focus",(()=>{v.current=f.current,f.current=null==p?void 0:p.activeElement}),!0);let b=(0,n.useCallback)((e=>{var t,n,a,u;if(s){if(1===r.popoverState)return;switch(e.key){case O.Space:case O.Enter:e.preventDefault(),null==(n=(t=e.target).click)||n.call(t),o({type:1}),null==(a=r.button)||a.focus()}}else switch(e.key){case O.Space:case O.Enter:e.preventDefault(),e.stopPropagation(),1===r.popoverState&&(null==i||i(r.buttonId)),o({type:0});break;case O.Escape:if(0!==r.popoverState)return null==i?void 0:i(r.buttonId);if(!l.current||(null==p?void 0:p.activeElement)&&!l.current.contains(p.activeElement))return;e.preventDefault(),e.stopPropagation(),o({type:1});break;case O.Tab:if(0!==r.popoverState||!r.panel||!r.button)return;if(e.shiftKey){if(!v.current||null!=(u=r.button)&&u.contains(v.current)||r.panel.contains(v.current))return;let t=q(null==p?void 0:p.body),n=t.indexOf(v.current);if(t.indexOf(r.button)>n)return;e.preventDefault(),e.stopPropagation(),ee(r.panel,V.Last)}else e.preventDefault(),e.stopPropagation(),ee(r.panel,V.First)}}),[o,r.popoverState,r.buttonId,r.button,r.panel,l,i,s]),g=(0,n.useCallback)((e=>{var t;if(!s&&(e.key===O.Space&&e.preventDefault(),0===r.popoverState&&r.panel&&r.button)&&e.key===O.Tab){if(!v.current||null!=(t=r.button)&&t.contains(v.current)||r.panel.contains(v.current))return;let n=q(null==p?void 0:p.body),o=n.indexOf(v.current);if(n.indexOf(r.button)>o)return;e.preventDefault(),e.stopPropagation(),ee(r.panel,V.Last)}}),[r.popoverState,r.panel,r.button,s]),x=(0,n.useCallback)((t=>{var n,l;w(t.currentTarget)||e.disabled||(s?(o({type:1}),null==(n=r.button)||n.focus()):(t.preventDefault(),t.stopPropagation(),1===r.popoverState&&(null==i||i(r.buttonId)),null==(l=r.button)||l.focus(),o({type:0})))}),[o,r.button,r.popoverState,r.buttonId,e.disabled,i,s]),h=(0,n.useMemo)((()=>({open:0===r.popoverState})),[r]),y=B(e,l),R=e;return P({ourProps:s?{ref:d,type:y,onKeyDown:b,onClick:x}:{ref:c,id:r.buttonId,type:y,"aria-expanded":e.disabled?void 0:0===r.popoverState,"aria-controls":r.panel?r.panelId:void 0,onKeyDown:b,onKeyUp:g,onClick:x},theirProps:R,slot:h,defaultTag:"button",name:"Popover.Button"})})),Sn=h.RenderStrategy|h.Static,Cn=C((function(e,t){let[{popoverState:r},o]=vn("Popover.Overlay"),l=m(t),a=`headlessui-popover-overlay-${d()}`,i=U(),u=null!==i?i===N.Open:0===r,s=(0,n.useCallback)((e=>{if(w(e.currentTarget))return e.preventDefault();o({type:1})}),[o]);return P({ourProps:{ref:l,id:a,"aria-hidden":!0,onClick:s},theirProps:e,slot:(0,n.useMemo)((()=>({open:0===r})),[r]),defaultTag:"div",features:Sn,visible:u,name:"Popover.Overlay"})})),En=h.RenderStrategy|h.Static,In=C((function(e,t){let{focus:r=!1,...o}=e,[l,a]=vn("Popover.Panel"),{close:i}=mn("Popover.Panel"),u=(0,n.useRef)(null),s=m(u,t,(e=>{a({type:4,panel:e})})),c=we(u),d=U(),p=null!==d?d===N.Open:0===l.popoverState,f=(0,n.useCallback)((e=>{var t;if(e.key===O.Escape){if(0!==l.popoverState||!u.current||(null==c?void 0:c.activeElement)&&!u.current.contains(c.activeElement))return;e.preventDefault(),e.stopPropagation(),a({type:1}),null==(t=l.button)||t.focus()}}),[l,u,a]);(0,n.useEffect)((()=>()=>a({type:4,panel:null})),[a]),(0,n.useEffect)((()=>{var t;e.static||1===l.popoverState&&(null==(t=e.unmount)||t)&&a({type:4,panel:null})}),[l.popoverState,e.unmount,e.static,a]),(0,n.useEffect)((()=>{if(!r||0!==l.popoverState||!u.current)return;let e=null==c?void 0:c.activeElement;u.current.contains(e)||ee(u.current,V.First)}),[r,u,l.popoverState]),Te(null==c?void 0:c.defaultView,"keydown",(e=>{var t;if(!(0===l.popoverState&&u.current&&e.key===O.Tab&&null!=c&&c.activeElement&&u.current&&u.current.contains(c.activeElement)))return;e.preventDefault();let n=ee(u.current,e.shiftKey?V.Previous:V.Next);if(n===W.Underflow)return null==(t=l.button)?void 0:t.focus();if(n===W.Overflow){if(!l.button)return;let e=q(c.body),t=e.indexOf(l.button),n=e.splice(t+1).filter((e=>{var t;return!(null!=(t=u.current)&&t.contains(e))}));ee(n,V.First)===W.Error&&ee(c.body,V.First)}})),Te(null==c?void 0:c.defaultView,"focus",(()=>{var e;!r||0===l.popoverState&&(!u.current||(null==c?void 0:c.activeElement)&&(null==(e=u.current)?void 0:e.contains(c.activeElement))||a({type:1}))}),!0);let v=(0,n.useMemo)((()=>({open:0===l.popoverState,close:i})),[l,i]),b={ref:s,id:l.panelId,onKeyDown:f};return n.createElement(hn.Provider,{value:l.panelId},P({ourProps:b,theirProps:o,slot:v,defaultTag:"div",features:En,visible:p,name:"Popover.Panel"}))})),On=C((function(e,t){let r=(0,n.useRef)(null),o=m(r,t),[l,a]=(0,n.useState)([]),i=(0,n.useCallback)((e=>{a((t=>{let n=t.indexOf(e);if(-1!==n){let e=t.slice();return e.splice(n,1),e}return t}))}),[a]),u=(0,n.useCallback)((e=>(a((t=>[...t,e])),()=>i(e))),[a,i]),s=(0,n.useCallback)((()=>{var e;let t=H(r);if(!t)return!1;let n=t.activeElement;return!(null==(e=r.current)||!e.contains(n))||l.some((e=>{var r,o;return(null==(r=t.getElementById(e.buttonId))?void 0:r.contains(n))||(null==(o=t.getElementById(e.panelId))?void 0:o.contains(n))}))}),[r,l]),c=(0,n.useCallback)((e=>{for(let t of l)t.buttonId!==e&&t.close()}),[l]),d=(0,n.useMemo)((()=>({registerPopover:u,unregisterPopover:i,isFocusWithinPopoverGroup:s,closeOthers:c})),[u,i,s,c]),p=(0,n.useMemo)((()=>({})),[]),f=e,v={ref:o};return n.createElement(gn.Provider,{value:d},P({ourProps:v,theirProps:f,slot:p,defaultTag:"div",name:"Popover.Group"}))})),Tn=Object.assign(Pn,{Button:Rn,Overlay:Cn,Panel:In,Group:On});let kn=(0,n.createContext)(null);function wn(){let e=(0,n.useContext)(kn);if(null===e){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,wn),e}return e}function Dn(){let[e,t]=(0,n.useState)([]);return[e.length>0?e.join(" "):void 0,(0,n.useMemo)((()=>function(e){let r=(0,n.useCallback)((e=>(t((t=>[...t,e])),()=>t((t=>{let n=t.slice(),r=n.indexOf(e);return-1!==r&&n.splice(r,1),n})))),[]),o=(0,n.useMemo)((()=>({register:r,slot:e.slot,name:e.name,props:e.props})),[r,e.slot,e.name,e.props]);return n.createElement(kn.Provider,{value:o},e.children)}),[t])]}let Fn=C((function(e,t){let{passive:n=!1,...r}=e,o=wn(),a=`headlessui-label-${d()}`,i=m(t);l((()=>o.register(a)),[a,o.register]);let u={ref:i,...o.props,id:a};return n&&("onClick"in u&&delete u.onClick,"onClick"in r&&delete r.onClick),P({ourProps:u,theirProps:r,slot:o.slot||{},defaultTag:"label",name:o.name||"Label"})}));var Ln=(e=>(e[e.RegisterOption=0]="RegisterOption",e[e.UnregisterOption=1]="UnregisterOption",e))(Ln||{});let An={0(e,t){let n=[...e.options,{id:t.id,element:t.element,propsRef:t.propsRef}];return{...e,options:Z(n,(e=>e.element.current))}},1(e,t){let n=e.options.slice(),r=e.options.findIndex((e=>e.id===t.id));return-1===r?e:(n.splice(r,1),{...e,options:n})}},Mn=(0,n.createContext)(null);function Nn(e){let t=(0,n.useContext)(Mn);if(null===t){let t=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Nn),t}return t}function Un(e,t){return g(t.type,An,e,t)}Mn.displayName="RadioGroupContext";let $n=C((function(e,t){let{value:r,name:o,onChange:l,disabled:a=!1,...i}=e,[{options:u},s]=(0,n.useReducer)(Un,{options:[]}),[c,p]=Dn(),[f,v]=Ye(),b=`headlessui-radiogroup-${d()}`,g=(0,n.useRef)(null),x=m(g,t),h=(0,n.useMemo)((()=>u.find((e=>!e.propsRef.current.disabled))),[u]),y=(0,n.useMemo)((()=>u.some((e=>e.propsRef.current.value===r))),[u,r]),R=(0,n.useCallback)((e=>{var t;if(a||e===r)return!1;let n=null==(t=u.find((t=>t.propsRef.current.value===e)))?void 0:t.propsRef.current;return(null==n||!n.disabled)&&(l(e),!0)}),[l,r,a,u]);G({container:g.current,accept:e=>"radio"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT,walk(e){e.setAttribute("role","none")}});let S=(0,n.useCallback)((e=>{let t=g.current;if(!t)return;let n=H(t),r=u.filter((e=>!1===e.propsRef.current.disabled)).map((e=>e.element.current));switch(e.key){case O.Enter:le(e.currentTarget);break;case O.ArrowLeft:case O.ArrowUp:if(e.preventDefault(),e.stopPropagation(),ee(r,V.Previous|V.WrapAround)===W.Success){let e=u.find((e=>e.element.current===(null==n?void 0:n.activeElement)));e&&R(e.propsRef.current.value)}break;case O.ArrowRight:case O.ArrowDown:if(e.preventDefault(),e.stopPropagation(),ee(r,V.Next|V.WrapAround)===W.Success){let e=u.find((e=>e.element.current===(null==n?void 0:n.activeElement)));e&&R(e.propsRef.current.value)}break;case O.Space:{e.preventDefault(),e.stopPropagation();let t=u.find((e=>e.element.current===(null==n?void 0:n.activeElement)));t&&R(t.propsRef.current.value)}}}),[g,u,R]),C=(0,n.useCallback)((e=>(s({type:0,...e}),()=>s({type:1,id:e.id}))),[s]),I=(0,n.useMemo)((()=>({registerOption:C,firstOption:h,containsCheckedOption:y,change:R,disabled:a,value:r})),[C,h,y,R,a,r]),T={ref:x,id:b,role:"radiogroup","aria-labelledby":c,"aria-describedby":f,onKeyDown:S};return n.createElement(v,{name:"RadioGroup.Description"},n.createElement(p,{name:"RadioGroup.Label"},n.createElement(Mn.Provider,{value:I},null!=o&&null!=r&&ne({[o]:r}).map((([e,t])=>n.createElement(te,{...E({key:e,as:"input",type:"radio",checked:null!=t,hidden:!0,readOnly:!0,name:e,value:t})}))),P({ourProps:T,theirProps:i,defaultTag:"div",name:"RadioGroup"}))))}));var jn=(e=>(e[e.Empty=1]="Empty",e[e.Active=2]="Active",e))(jn||{});let Bn=C((function(e,t){let r=(0,n.useRef)(null),o=m(r,t),a=`headlessui-radiogroup-option-${d()}`,[i,u]=Dn(),[s,c]=Ye(),{addFlag:p,removeFlag:f,hasFlag:v}=function(e=0){let[t,r]=(0,n.useState)(e),o=(0,n.useCallback)((e=>r((t=>t|e))),[r]),l=(0,n.useCallback)((e=>Boolean(t&e)),[t]),a=(0,n.useCallback)((e=>r((t=>t&~e))),[r]),i=(0,n.useCallback)((e=>r((t=>t^e))),[r]);return{addFlag:o,hasFlag:l,removeFlag:a,toggleFlag:i}}(1),{value:b,disabled:g=!1,...x}=e,h=(0,n.useRef)({value:b,disabled:g});l((()=>{h.current.value=b}),[b,h]),l((()=>{h.current.disabled=g}),[g,h]);let{registerOption:y,disabled:R,change:S,firstOption:C,containsCheckedOption:E,value:I}=Nn("RadioGroup.Option");l((()=>y({id:a,element:r,propsRef:h})),[a,y,r,e]);let O=(0,n.useCallback)((()=>{var e;!S(b)||(p(2),null==(e=r.current)||e.focus())}),[p,S,b]),T=(0,n.useCallback)((()=>p(2)),[p]),k=(0,n.useCallback)((()=>f(2)),[f]),w=(null==C?void 0:C.id)===a,D=R||g,F=I===b,L={ref:o,id:a,role:"radio","aria-checked":F?"true":"false","aria-labelledby":i,"aria-describedby":s,"aria-disabled":!!D||void 0,tabIndex:D?-1:F||!E&&w?0:-1,onClick:D?void 0:O,onFocus:D?void 0:T,onBlur:D?void 0:k},A=(0,n.useMemo)((()=>({checked:F,disabled:D,active:v(2)})),[F,D,v]);return n.createElement(c,{name:"RadioGroup.Description"},n.createElement(u,{name:"RadioGroup.Label"},P({ourProps:L,theirProps:x,slot:A,defaultTag:"div",name:"RadioGroup.Option"})))})),Hn=Object.assign($n,{Option:Bn,Label:Fn,Description:ze}),Gn=(0,n.createContext)(null);Gn.displayName="GroupContext";let _n=n.Fragment;let Kn=C((function(e,t){let{checked:r,onChange:o,name:l,value:a,...i}=e,u=`headlessui-switch-${d()}`,s=(0,n.useContext)(Gn),c=(0,n.useRef)(null),p=m(c,t,null===s?null:s.setSwitch),f=(0,n.useCallback)((()=>o(!r)),[o,r]),v=(0,n.useCallback)((e=>{if(w(e.currentTarget))return e.preventDefault();e.preventDefault(),f()}),[f]),b=(0,n.useCallback)((e=>{e.key===O.Space?(e.preventDefault(),f()):e.key===O.Enter&&le(e.currentTarget)}),[f]),g=(0,n.useCallback)((e=>e.preventDefault()),[]),x=(0,n.useMemo)((()=>({checked:r})),[r]),h={id:u,ref:p,role:"switch",type:B(e,c),tabIndex:0,"aria-checked":r,"aria-labelledby":null==s?void 0:s.labelledby,"aria-describedby":null==s?void 0:s.describedby,onClick:v,onKeyUp:b,onKeyPress:g};return n.createElement(n.Fragment,null,null!=l&&r&&n.createElement(te,{...E({as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:r,name:l,value:a})}),P({ourProps:h,theirProps:i,slot:x,defaultTag:"button",name:"Switch"}))})),Vn=Object.assign(Kn,{Group:function(e){let[t,r]=(0,n.useState)(null),[o,l]=Dn(),[a,i]=Ye(),u=(0,n.useMemo)((()=>({switch:t,setSwitch:r,labelledby:o,describedby:a})),[t,r,o,a]),s=e;return n.createElement(i,{name:"Switch.Description"},n.createElement(l,{name:"Switch.Label",props:{onClick(){!t||(t.click(),t.focus({preventScroll:!0}))}}},n.createElement(Gn.Provider,{value:u},P({ourProps:{},theirProps:s,defaultTag:_n,name:"Switch.Group"}))))},Label:Fn,Description:ze});function Wn({onFocus:e}){let[t,r]=(0,n.useState)(!0);return t?n.createElement(te,{as:"button",type:"button",onFocus:t=>{t.preventDefault();let n,o=50;n=requestAnimationFrame((function t(){if(!(o--<=0))return e()?(r(!1),void cancelAnimationFrame(n)):void(n=requestAnimationFrame(t));n&&cancelAnimationFrame(n)}))}}):null}var Qn=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.SetOrientation=1]="SetOrientation",e[e.SetActivation=2]="SetActivation",e[e.RegisterTab=3]="RegisterTab",e[e.UnregisterTab=4]="UnregisterTab",e[e.RegisterPanel=5]="RegisterPanel",e[e.UnregisterPanel=6]="UnregisterPanel",e[e.ForceRerender=7]="ForceRerender",e))(Qn||{});let qn={0(e,t){let n=e.tabs.filter((e=>{var t;return!(null!=(t=e.current)&&t.hasAttribute("disabled"))}));if(t.index<0)return{...e,selectedIndex:e.tabs.indexOf(n[0])};if(t.index>e.tabs.length)return{...e,selectedIndex:e.tabs.indexOf(n[n.length-1])};let r=e.tabs.slice(0,t.index),o=[...e.tabs.slice(t.index),...r].find((e=>n.includes(e)));return o?{...e,selectedIndex:e.tabs.indexOf(o)}:e},1:(e,t)=>e.orientation===t.orientation?e:{...e,orientation:t.orientation},2:(e,t)=>e.activation===t.activation?e:{...e,activation:t.activation},3:(e,t)=>e.tabs.includes(t.tab)?e:{...e,tabs:Z([...e.tabs,t.tab],(e=>e.current))},4:(e,t)=>({...e,tabs:Z(e.tabs.filter((e=>e!==t.tab)),(e=>e.current))}),5:(e,t)=>e.panels.includes(t.panel)?e:{...e,panels:[...e.panels,t.panel]},6:(e,t)=>({...e,panels:e.panels.filter((e=>e!==t.panel))}),7:e=>({...e})},Yn=(0,n.createContext)(null);Yn.displayName="TabsContext";let zn=(0,n.createContext)(null);function Jn(e){let t=(0,n.useContext)(zn);if(null===t){let t=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Jn),t}return t}function Xn(e){let t=(0,n.useContext)(Yn);if(null===t){let t=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Xn),t}return t}function Zn(e,t){return g(t.type,qn,e,t)}zn.displayName="TabsSSRContext";let er=n.Fragment,tr=C((function(e,t){let{defaultIndex:r=0,vertical:o=!1,manual:a=!1,onChange:i,selectedIndex:u=null,...s}=e;const c=o?"vertical":"horizontal",d=a?"manual":"auto";let f=m(t),[v,b]=(0,n.useReducer)(Zn,{selectedIndex:null!=u?u:r,tabs:[],panels:[],orientation:c,activation:d}),g=(0,n.useMemo)((()=>({selectedIndex:v.selectedIndex})),[v.selectedIndex]),x=p(i||(()=>{})),h=p(v.tabs);(0,n.useEffect)((()=>{b({type:1,orientation:c})}),[c]),(0,n.useEffect)((()=>{b({type:2,activation:d})}),[d]),l((()=>{b({type:0,index:null!=u?u:r})}),[u]);let y=(0,n.useRef)(v.selectedIndex);(0,n.useEffect)((()=>{y.current=v.selectedIndex}),[v.selectedIndex]);let R=(0,n.useMemo)((()=>[v,{dispatch:b,change(e){y.current!==e&&x.current(e),y.current=e,b({type:0,index:e})}}]),[v,b]),S=(0,n.useRef)({tabs:[],panels:[]}),C={ref:f};return n.createElement(zn.Provider,{value:S},n.createElement(Yn.Provider,{value:R},n.createElement(Wn,{onFocus:()=>{var e,t;for(let n of h.current)if(0===(null==(e=n.current)?void 0:e.tabIndex))return null==(t=n.current)||t.focus(),!0;return!1}}),P({ourProps:C,theirProps:s,slot:g,defaultTag:er,name:"Tabs"})))})),nr=C((function(e,t){let[{selectedIndex:n,orientation:r}]=Xn("Tab.List");return P({ourProps:{ref:m(t),role:"tablist","aria-orientation":r},theirProps:e,slot:{selectedIndex:n},defaultTag:"div",name:"Tabs.List"})})),rr=C((function(e,t){var r,o;let a=`headlessui-tabs-tab-${d()}`,[{selectedIndex:i,tabs:u,panels:s,orientation:c,activation:p},{dispatch:f,change:v}]=Xn("Tab"),b=Jn("Tab"),x=(0,n.useRef)(null),h=m(x,t,(e=>{!e||f({type:7})}));l((()=>(f({type:3,tab:x}),()=>f({type:4,tab:x}))),[f,x]);let y=b.current.tabs.indexOf(a);-1===y&&(y=b.current.tabs.push(a)-1);let R=u.indexOf(x);-1===R&&(R=y);let S=R===i,C=(0,n.useCallback)((e=>{let t=u.map((e=>e.current)).filter(Boolean);if(e.key===O.Space||e.key===O.Enter)return e.preventDefault(),e.stopPropagation(),void v(R);switch(e.key){case O.Home:case O.PageUp:return e.preventDefault(),e.stopPropagation(),ee(t,V.First);case O.End:case O.PageDown:return e.preventDefault(),e.stopPropagation(),ee(t,V.Last)}return g(c,{vertical:()=>e.key===O.ArrowUp?ee(t,V.Previous|V.WrapAround):e.key===O.ArrowDown?ee(t,V.Next|V.WrapAround):void 0,horizontal:()=>e.key===O.ArrowLeft?ee(t,V.Previous|V.WrapAround):e.key===O.ArrowRight?ee(t,V.Next|V.WrapAround):void 0})}),[u,c,R,v]),E=(0,n.useCallback)((()=>{var e;null==(e=x.current)||e.focus()}),[x]),I=(0,n.useCallback)((()=>{var e;null==(e=x.current)||e.focus(),v(R)}),[v,R,x]),T=(0,n.useCallback)((e=>{e.preventDefault()}),[]),k=(0,n.useMemo)((()=>({selected:S})),[S]),w=e;return P({ourProps:{ref:h,onKeyDown:C,onFocus:"manual"===p?E:I,onMouseDown:T,onClick:I,id:a,role:"tab",type:B(e,x),"aria-controls":null==(o=null==(r=s[R])?void 0:r.current)?void 0:o.id,"aria-selected":S,tabIndex:S?0:-1},theirProps:w,slot:k,defaultTag:"button",name:"Tabs.Tab"})})),or=C((function(e,t){let[{selectedIndex:r}]=Xn("Tab.Panels");return P({ourProps:{ref:m(t)},theirProps:e,slot:(0,n.useMemo)((()=>({selectedIndex:r})),[r]),defaultTag:"div",name:"Tabs.Panels"})})),lr=h.RenderStrategy|h.Static,ar=C((function(e,t){var r,o;let[{selectedIndex:a,tabs:i,panels:u},{dispatch:s}]=Xn("Tab.Panel"),c=Jn("Tab.Panel"),p=`headlessui-tabs-panel-${d()}`,f=(0,n.useRef)(null),v=m(f,t,(e=>{!e||s({type:7})}));l((()=>(s({type:5,panel:f}),()=>s({type:6,panel:f}))),[s,f]);let b=c.current.panels.indexOf(p);-1===b&&(b=c.current.panels.push(p)-1);let g=u.indexOf(f);-1===g&&(g=b);let x=g===a,h=(0,n.useMemo)((()=>({selected:x})),[x]),y=e;return P({ourProps:{ref:v,id:p,role:"tabpanel","aria-labelledby":null==(o=null==(r=i[g])?void 0:r.current)?void 0:o.id,tabIndex:x?0:-1},theirProps:y,slot:h,defaultTag:"div",features:lr,visible:x,name:"Tabs.Panel"})})),ir=Object.assign(rr,{Group:tr,List:nr,Panels:or,Panel:ar});function ur(e,...t){e&&t.length>0&&e.classList.add(...t)}function sr(e,...t){e&&t.length>0&&e.classList.remove(...t)}var cr=(e=>(e.Ended="ended",e.Cancelled="cancelled",e))(cr||{});function dr(e,t,n,o){let l=n?"enter":"leave",a=r(),i=void 0!==o?function(e){let t={called:!1};return(...n)=>{if(!t.called)return t.called=!0,e(...n)}}(o):()=>{},u=g(l,{enter:()=>t.enter,leave:()=>t.leave}),s=g(l,{enter:()=>t.enterTo,leave:()=>t.leaveTo}),c=g(l,{enter:()=>t.enterFrom,leave:()=>t.leaveFrom});return sr(e,...t.enter,...t.enterTo,...t.enterFrom,...t.leave,...t.leaveFrom,...t.leaveTo,...t.entered),ur(e,...u,...c),a.nextFrame((()=>{sr(e,...c),ur(e,...s),function(e,t){let n=r();if(!e)return n.dispose;let{transitionDuration:o,transitionDelay:l}=getComputedStyle(e),[a,i]=[o,l].map((e=>{let[t=0]=e.split(",").filter(Boolean).map((e=>e.includes("ms")?parseFloat(e):1e3*parseFloat(e))).sort(((e,t)=>t-e));return t}));if(a+i!==0){let r=[];r.push(n.addEventListener(e,"transitionrun",(()=>{r.splice(0).forEach((e=>e())),r.push(n.addEventListener(e,"transitionend",(()=>{t("ended"),r.splice(0).forEach((e=>e()))}),{once:!0}),n.addEventListener(e,"transitioncancel",(()=>{t("cancelled"),r.splice(0).forEach((e=>e()))}),{once:!0}))}),{once:!0}))}else t("ended");n.add((()=>t("cancelled"))),n.dispose}(e,(n=>("ended"===n&&(sr(e,...u),ur(e,...t.entered)),i(n))))})),a.dispose}function pr(e=""){return e.split(" ").filter((e=>e.trim().length>1))}let fr=(0,n.createContext)(null);fr.displayName="TransitionContext";var vr=(e=>(e.Visible="visible",e.Hidden="hidden",e))(vr||{});let br=(0,n.createContext)(null);function mr(e){return"children"in e?mr(e.children):e.current.filter((({state:e})=>"visible"===e)).length>0}function gr(e){let t=p(e),r=(0,n.useRef)([]),o=ke(),l=p(((e,n=y.Hidden)=>{let l=r.current.findIndex((({id:t})=>t===e));-1!==l&&(g(n,{[y.Unmount](){r.current.splice(l,1)},[y.Hidden](){r.current[l].state="hidden"}}),D((()=>{var e;!mr(r)&&o.current&&(null==(e=t.current)||e.call(t))})))})),a=p((e=>{let t=r.current.find((({id:t})=>t===e));return t?"visible"!==t.state&&(t.state="visible"):r.current.push({id:e,state:"visible"}),()=>l.current(e,y.Unmount)}));return(0,n.useMemo)((()=>({children:r,register:a,unregister:l})),[a,l,r])}function xr(){}br.displayName="NestingContext";let hr=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function yr(e){var t;let n={};for(let r of hr)n[r]=null!=(t=e[r])?t:xr;return n}let Pr=h.RenderStrategy,Rr=C((function(e,t){let{beforeEnter:a,afterEnter:u,beforeLeave:s,afterLeave:c,enter:f,enterFrom:v,enterTo:b,entered:x,leave:h,leaveFrom:R,leaveTo:S,...C}=e,E=(0,n.useRef)(null),I=m(E,t),[O,T]=(0,n.useState)("visible"),k=C.unmount?y.Unmount:y.Hidden,{show:w,appear:D,initial:F}=function(){let e=(0,n.useContext)(fr);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),{register:L,unregister:A}=function(){let e=(0,n.useContext)(br);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),M=(0,n.useRef)(null),U=d(),j=(0,n.useRef)(!1),B=gr((()=>{j.current||(T("hidden"),A.current(U))}));(0,n.useEffect)((()=>{if(U)return L.current(U)}),[L,U]),(0,n.useEffect)((()=>{if(k===y.Hidden&&U){if(w&&"visible"!==O)return void T("visible");g(O,{hidden:()=>A.current(U),visible:()=>L.current(U)})}}),[O,U,L,A,w,k]);let H=p({enter:pr(f),enterFrom:pr(v),enterTo:pr(b),entered:pr(x),leave:pr(h),leaveFrom:pr(R),leaveTo:pr(S)}),G=function(e){let t=(0,n.useRef)(yr(e));return(0,n.useEffect)((()=>{t.current=yr(e)}),[e]),t}({beforeEnter:a,afterEnter:u,beforeLeave:s,afterLeave:c}),_=i();(0,n.useEffect)((()=>{if(_&&"visible"===O&&null===E.current)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}),[E,O,_]);let K=F&&!D,V=!_||K||M.current===w?"idle":w?"enter":"leave";(function({container:e,direction:t,classes:n,events:a,onStart:i,onStop:u}){let s=ke(),c=o(),d=p(t),f=p((()=>g(d.current,{enter:()=>a.current.beforeEnter(),leave:()=>a.current.beforeLeave(),idle:()=>{}}))),v=p((()=>g(d.current,{enter:()=>a.current.afterEnter(),leave:()=>a.current.afterLeave(),idle:()=>{}})));l((()=>{let t=r();c.add(t.dispose);let o=e.current;if(o&&"idle"!==d.current&&s.current)return t.dispose(),f.current(),i.current(d.current),t.add(dr(o,n.current,"enter"===d.current,(e=>{t.dispose(),g(e,{[cr.Ended](){v.current(),u.current(d.current)},[cr.Cancelled]:()=>{}})}))),t.dispose}),[t])})({container:E,classes:H,events:G,direction:V,onStart:p((()=>{})),onStop:p((e=>{"leave"===e&&!mr(B)&&(T("hidden"),A.current(U))}))}),(0,n.useEffect)((()=>{!K||(k===y.Hidden?M.current=null:M.current=w)}),[w,K,O]);let W=C,Q={ref:I};return n.createElement(br.Provider,{value:B},n.createElement($,{value:g(O,{visible:N.Open,hidden:N.Closed})},P({ourProps:Q,theirProps:W,defaultTag:"div",features:Pr,visible:"visible"===O,name:"Transition.Child"})))})),Sr=C((function(e,t){let{show:r,appear:o=!1,unmount:a,...u}=e,s=m(t);i();let c=U();if(void 0===r&&null!==c&&(r=g(c,{[N.Open]:!0,[N.Closed]:!1})),![!0,!1].includes(r))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[d,p]=(0,n.useState)(r?"visible":"hidden"),f=gr((()=>{p("hidden")})),[v,b]=(0,n.useState)(!0),x=(0,n.useRef)([r]);l((()=>{!1!==v&&x.current[x.current.length-1]!==r&&(x.current.push(r),b(!1))}),[x,r]);let h=(0,n.useMemo)((()=>({show:r,appear:o,initial:v})),[r,o,v]);(0,n.useEffect)((()=>{r?p("visible"):mr(f)||p("hidden")}),[r,f]);let y={unmount:a};return n.createElement(br.Provider,{value:f},n.createElement(fr.Provider,{value:h},P({ourProps:{...y,as:n.Fragment,children:n.createElement(Rr,{ref:s,...y,...u})},theirProps:{},defaultTag:n.Fragment,features:Pr,visible:"visible"===d,name:"Transition"})))}));let Cr=Object.assign(Sr,{Child:function(e){let t=null!==(0,n.useContext)(fr),r=null!==U();return n.createElement(n.Fragment,null,!t&&r?n.createElement(Sr,{...e}):n.createElement(Rr,{...e}))},Root:Sr});window.headlessui=t})();